/*!
 * HTMLHint v0.9.14
 * https://github.com/yaniswang/HTMLHint
 *
 * (c) 2014-2017 Yanis Wang <yanis.wang@gmail.com>.
 * MIT Licensed
 */
var HTMLHint=function(n){function i(n,t){return Array(n+1).join(t||" ")}var t={};return t.version="0.9.14",t.release="20170826",t.rules={},t.defaultRuleset={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!0,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"title-require":!0},t.addRule=function(n){t.rules[n.id]=n},t.verify=function(i,r){var u;(r===n||0===Object.keys(r).length)&&(r=t.defaultRuleset);i=i.replace(/^\s*<!--\s*htmlhint\s+([^\r\n]+?)\s*-->/i,function(t,i){return r===n&&(r={}),i.replace(/(?:^|,)\s*([^:,]+)\s*(?:\:\s*([^,\s]+))?/g,function(t,i,u){"false"===u?u=!1:"true"===u&&(u=!0);r[i]=u===n?!0:u}),""});var f,e=new HTMLParser,o=new t.Reporter(i,r),s=t.rules;for(u in r)f=s[u],f!==n&&r[u]!==!1&&f.init(e,o,r[u]);return e.parse(i),o.messages},t.format=function(n,t){var u,r,f;return t=t||{},u=[],r={white:"",grey:"",red:"",reset:""},t.colors&&(r.white="\x1b[37m",r.grey="\x1b[90m",r.red="\x1b[31m",r.reset="\x1b[39m"),f=t.indent||0,n.forEach(function(n){var o=40,a=o+20,t=n.evidence,v=n.line,e=n.col,y=t.length,s=e>o+1?e-o:1,c=t.length>e+a?e+a:y,h,l;o+1>e&&(c+=o-e+1);t=t.replace(/\t/g," ").substring(s-1,c);s>1&&(t="..."+t,s-=3);y>c&&(t+="...");u.push(r.white+i(f)+"L"+v+" |"+r.grey+t+r.reset);h=e-s;l=t.substring(0,h).match(/[^\u0000-\u00ff]/g);null!==l&&(h+=l.length);u.push(r.white+i(f)+i((v+"").length+3+h)+"^ "+r.red+n.message+" ("+n.rule.id+")"+r.reset)}),u},t}(),HTMLParser;"object"==typeof exports&&exports&&(exports.HTMLHint=HTMLHint),function(n){var t=function(){var n=this;n._init.apply(n,arguments)};t.prototype={_init:function(n,t){var i=this,r;i.html=n;i.lines=n.split(/\r?\n/);r=n.match(/\r?\n/);i.brLen=null!==r?r[0].length:0;i.ruleset=t;i.messages=[]},error:function(n,t,i,r,u){this.report("error",n,t,i,r,u)},warn:function(n,t,i,r,u){this.report("warning",n,t,i,r,u)},info:function(n,t,i,r,u){this.report("info",n,t,i,r,u)},report:function(n,t,i,r,u,f){for(var e,o,s=this,c=s.lines,a=s.brLen,h=i-1,l=c.length;l>h&&(e=c[h],o=e.length,r>o&&l>i);h++)i++,r-=o,1!==r&&(r-=a);s.messages.push({type:n,message:t,raw:f,evidence:e,line:i,col:r,rule:{id:u.id,description:u.description,link:"https://github.com/yaniswang/HTMLHint/wiki/"+u.id}})}};n.Reporter=t}(HTMLHint);HTMLParser=function(n){var t=function(){var n=this;n._init.apply(n,arguments)};return t.prototype={_init:function(){var n=this;n._listeners={};n._mapCdataTags=n.makeMap("script,style");n._arrBlocks=[];n.lastEvent=null},makeMap:function(n){for(var i={},r=n.split(","),t=0;r.length>t;t++)i[r[t]]=!0;return i},parse:function(t){function e(t,i,r,u){var f=r-y+1,e;for(u===n&&(u={}),u.raw=i,u.pos=r,u.line=p,u.col=f,it.push(u),l.fire(t,u);e=d.exec(i);)p++,y=r+d.lastIndex}var i,o,s,a,f,v,c,h,l=this,nt=l._mapCdataTags,k=/<(?:\/([^\s>]+)\s*|!--([\s\S]*?)--|!([^>]*?)|([\w\-:]+)((?:\s+[^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'>]*))?)*?)\s*(\/?))>/g,tt=/\s*([^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+)(?:\s*=\s*(?:(")([^"]*)"|(')([^']*)'|([^\s"'>]*)))?/g,d=/\r?\n/g,u=0,g=0,y=0,p=1,it=l._arrBlocks,r,w,b;for(l.fire("start",{pos:0,line:1,col:1});i=k.exec(t);)if(o=i.index,o>u&&(h=t.substring(u,o),f?c.push(h):e("text",h,u)),u=k.lastIndex,(s=i[1])&&(f&&s===f&&(h=c.join(""),e("cdata",h,g,{tagName:f,attrs:v}),f=null,v=null,c=null),!f))e("tagend",i[0],o,{tagName:s});else if(f)c.push(i[0]);else if(s=i[4]){for(a=[],w=i[5],b=0;r=tt.exec(w);){var rt=r[1],ut=r[2]?r[2]:r[4]?r[4]:"",ft=r[3]?r[3]:r[5]?r[5]:r[6]?r[6]:"";a.push({name:rt,value:ft,quote:ut,index:r.index,raw:r[0]});b+=r[0].length}b===w.length?(e("tagstart",i[0],o,{tagName:s,attrs:a,close:i[6]}),nt[s]&&(f=s,v=a.concat(),c=[],g=u)):e("text",i[0],o)}else(i[2]||i[3])&&e("comment",i[0],o,{content:i[2]||i[3],long:i[2]?!0:!1});t.length>u&&(h=t.substring(u,t.length),e("text",h,u));l.fire("end",{pos:u,line:p,col:t.length-y+1})},addListener:function(t,i){for(var r,u=this._listeners,e=t.split(/[,\s]/),f=0,o=e.length;o>f;f++)r=e[f],u[r]===n&&(u[r]=[]),u[r].push(i)},fire:function(t,i){var f,e,h;i===n&&(i={});i.type=t;var u=this,r=[],o=u._listeners[t],s=u._listeners.all;for(o!==n&&(r=r.concat(o)),s!==n&&(r=r.concat(s)),f=u.lastEvent,null!==f&&(delete f.lastEvent,i.lastEvent=f),u.lastEvent=i,e=0,h=r.length;h>e;e++)r[e].call(u,i)},removeListener:function(t,i){var u=this._listeners[t],r,f;if(u!==n)for(r=0,f=u.length;f>r;r++)if(u[r]===i){u.splice(r,1);break}},fixPos:function(n,t){var i,e=n.raw.substr(0,t),u=e.split(/\r?\n/),r=u.length-1,f=n.line;return r>0?(f+=r,i=u[r].length+1):i=n.col+t,{line:f,col:i}},getMapAttrs:function(n){for(var t,r={},i=0,u=n.length;u>i;i++)t=n[i],r[t.name]=t.value;return r}},t}();"object"==typeof exports&&exports&&(exports.HTMLParser=HTMLParser);HTMLHint.addRule({id:"alt-require",description:"The alt attribute of an <img> element must be present and alt attribute of area[href] and input[type=image] must have a value.",init:function(n,t){var i=this;n.addListener("tagstart",function(r){var e,u=r.tagName.toLowerCase(),f=n.getMapAttrs(r.attrs),o=r.col+u.length+1;"img"!==u||"alt"in f?("area"===u&&"href"in f||"input"===u&&"image"===f.type)&&("alt"in f&&""!==f.alt||(e="area"===u?"area[href]":"input[type=image]",t.warn("The alt attribute of "+e+" must have a value.",r.line,o,i,r.raw))):t.warn("An alt attribute must be present on <img> elements.",r.line,o,i,r.raw)})}});HTMLHint.addRule({id:"attr-lowercase",description:"All attribute names must be in lowercase.",init:function(n,t,i){var r=this,u=Array.isArray(i)?i:[];n.addListener("tagstart",function(n){for(var i,f,o=n.attrs,s=n.col+n.tagName.length+1,e=0,h=o.length;h>e;e++)f=o[e],i=f.name,-1===u.indexOf(i)&&i!==i.toLowerCase()&&t.error("The attribute name of [ "+i+" ] must be in lowercase.",n.line,s+f.index,r,f.raw)})}});HTMLHint.addRule({id:"attr-no-duplication",description:"Elements cannot have duplicate attributes.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var r,u,e=n.attrs,s=n.col+n.tagName.length+1,o={},f=0,h=e.length;h>f;f++)r=e[f],u=r.name,o[u]===!0&&t.error("Duplicate of attribute name [ "+r.name+" ] was found.",n.line,s+r.index,i,r.raw),o[u]=!0})}});HTMLHint.addRule({id:"attr-unsafe-chars",description:"Attribute values cannot contain unsafe chars.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var o,r,u,e=n.attrs,s=n.col+n.tagName.length+1,f=0,h=e.length;h>f;f++)(r=e[f],u=r.value.match(/[\u0000-\u0008\u000b\u000c\u000e-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/),null!==u)&&(o=escape(u[0]).replace(/%u/,"\\u").replace(/%/,"\\x"),t.warn("The value of attribute [ "+r.name+" ] cannot contain an unsafe char [ "+o+" ].",n.line,s+r.index,i,r.raw))})}});HTMLHint.addRule({id:"attr-value-double-quotes",description:"Attribute values must be in double quotes.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var r,f=n.attrs,e=n.col+n.tagName.length+1,u=0,o=f.length;o>u;u++)r=f[u],(""!==r.value&&'"'!==r.quote||""===r.value&&"'"===r.quote)&&t.error("The value of attribute [ "+r.name+" ] must be in double quotes.",n.line,e+r.index,i,r.raw)})}});HTMLHint.addRule({id:"attr-value-not-empty",description:"All attributes must have values.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var r,f=n.attrs,e=n.col+n.tagName.length+1,u=0,o=f.length;o>u;u++)r=f[u],""===r.quote&&""===r.value&&t.warn("The attribute [ "+r.name+" ] must have a value.",n.line,e+r.index,i,r.raw)})}});HTMLHint.addRule({id:"csslint",description:"Scan css with csslint.",init:function(n,t,i){var r=this;n.addListener("cdata",function(n){var u,f,e,o;if("style"===n.tagName.toLowerCase()&&(u="object"==typeof exports&&require?require("csslint").CSSLint.verify:CSSLint.verify,void 0!==i)){f=n.line-1;e=n.col-1;try{o=u(n.raw,i).messages;o.forEach(function(n){var i=n.line;t["warning"===n.type?"warn":"error"]("["+n.rule.id+"] "+n.message,f+i,(1===i?e:0)+n.col,r,n.evidence)})}catch(s){}}})}});HTMLHint.addRule({id:"doctype-first",description:"Doctype must be declared first.",init:function(n,t){var r=this,i=function(u){"start"===u.type||"text"===u.type&&/^\s*$/.test(u.raw)||(("comment"!==u.type&&u.long===!1||/^DOCTYPE\s+/i.test(u.content)===!1)&&t.error("Doctype must be declared first.",u.line,u.col,r,u.raw),n.removeListener("all",i))};n.addListener("all",i)}});HTMLHint.addRule({id:"doctype-html5",description:'Invalid doctype. Use: "<!DOCTYPE html>"',init:function(n,t){function i(n){n.long===!1&&"doctype html"!==n.content.toLowerCase()&&t.warn('Invalid doctype. Use: "<!DOCTYPE html>"',n.line,n.col,u,n.raw)}function r(){n.removeListener("comment",i);n.removeListener("tagstart",r)}var u=this;n.addListener("all",i);n.addListener("tagstart",r)}});HTMLHint.addRule({id:"head-script-disabled",description:"The <script> tag cannot be used in a <head> tag.",init:function(n,t){function i(i){var s=n.getMapAttrs(i.attrs),r=s.type,o=i.tagName.toLowerCase();"head"===o&&(u=!0);u!==!0||"script"!==o||r&&e.test(r)!==!0||t.warn("The <script> tag cannot be used in a <head> tag.",i.line,i.col,f,i.raw)}function r(t){"head"===t.tagName.toLowerCase()&&(n.removeListener("tagstart",i),n.removeListener("tagend",r))}var f=this,e=/^(text\/javascript|application\/javascript)$/i,u=!1;n.addListener("tagstart",i);n.addListener("tagend",r)}});HTMLHint.addRule({id:"href-abs-or-rel",description:"An href attribute must be either absolute or relative.",init:function(n,t,i){var u=this,r="abs"===i?"absolute":"relative";n.addListener("tagstart",function(n){for(var i,e=n.attrs,o=n.col+n.tagName.length+1,f=0,s=e.length;s>f;f++)if(i=e[f],"href"===i.name){("absolute"===r&&/^\w+?:/.test(i.value)===!1||"relative"===r&&/^https?:\/\//.test(i.value)===!0)&&t.warn("The value of the href attribute [ "+i.value+" ] must be "+r+".",n.line,o+i.index,u,i.raw);break}})}});HTMLHint.addRule({id:"id-class-ad-disabled",description:"The id and class attributes cannot use the ad keyword, it will be blocked by adblock software.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var r,u,e=n.attrs,o=n.col+n.tagName.length+1,f=0,s=e.length;s>f;f++)r=e[f],u=r.name,/^(id|class)$/i.test(u)&&/(^|[-\_])ad([-\_]|$)/i.test(r.value)&&t.warn("The value of attribute "+u+" cannot use the ad keyword.",n.line,o+r.index,i,r.raw)})}});HTMLHint.addRule({id:"id-class-value",description:"The id and class attribute values must meet the specified rules.",init:function(n,t,i){var r,e=this,u,f;(r="string"==typeof i?{underline:{regId:/^[a-z\d]+(_[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by an underscore."},dash:{regId:/^[a-z\d]+(-[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by a dash."},hump:{regId:/^[a-z][a-zA-Z\d]*([A-Z][a-zA-Z\d]*)*$/,message:"The id and class attribute values must meet the camelCase style."}}[i]:i,r&&r.regId)&&(u=r.regId,f=r.message,n.addListener("tagstart",function(n){for(var i,h=n.attrs,c=n.col+n.tagName.length+1,o=0,a=h.length;a>o;o++)if(i=h[o],"id"===i.name.toLowerCase()&&u.test(i.value)===!1&&t.warn(f,n.line,c+i.index,e,i.raw),"class"===i.name.toLowerCase())for(var r,l=i.value.split(/\s+/g),s=0,v=l.length;v>s;s++)r=l[s],r&&u.test(r)===!1&&t.warn(f,n.line,c+i.index,e,r)}))}});HTMLHint.addRule({id:"id-unique",description:"The value of id attributes must be unique.",init:function(n,t){var r=this,i={};n.addListener("tagstart",function(n){for(var f,u,o=n.attrs,s=n.col+n.tagName.length+1,e=0,h=o.length;h>e;e++)if(f=o[e],"id"===f.name.toLowerCase()){u=f.value;u&&(void 0===i[u]?i[u]=1:i[u]++,i[u]>1&&t.error("The id value [ "+u+" ] must be unique.",n.line,s+f.index,r,f.raw));break}})}});HTMLHint.addRule({id:"inline-script-disabled",description:"Inline script cannot be used.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var r,u,e=n.attrs,o=n.col+n.tagName.length+1,f=0,s=e.length;s>f;f++)r=e[f],u=r.name.toLowerCase(),/^on(unload|message|submit|select|scroll|resize|mouseover|mouseout|mousemove|mouseleave|mouseenter|mousedown|load|keyup|keypress|keydown|focus|dblclick|click|change|blur|error)$/i.test(u)===!0?t.warn("Inline script [ "+r.raw+" ] cannot be used.",n.line,o+r.index,i,r.raw):("src"===u||"href"===u)&&/^\s*javascript:/i.test(r.value)&&t.warn("Inline script [ "+r.raw+" ] cannot be used.",n.line,o+r.index,i,r.raw)})}});HTMLHint.addRule({id:"inline-style-disabled",description:"Inline style cannot be used.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var r,f=n.attrs,e=n.col+n.tagName.length+1,u=0,o=f.length;o>u;u++)r=f[u],"style"===r.name.toLowerCase()&&t.warn("Inline style [ "+r.raw+" ] cannot be used.",n.line,e+r.index,i,r.raw)})}});HTMLHint.addRule({id:"jshint",description:"Scan script with jshint.",init:function(n,t,i){var r=this;n.addListener("cdata",function(u){var f,e,o,s;if("script"===u.tagName.toLowerCase()){if(f=n.getMapAttrs(u.attrs),e=f.type,void 0!==f.src||e&&/^(text\/javascript)$/i.test(e)===!1)return;if(o="object"==typeof exports&&require?require("jshint").JSHINT:JSHINT,void 0!==i){var h=u.line-1,c=u.col-1,l=u.raw.replace(/\t/g," ");try{s=o(l,i,i.globals);s===!1&&o.errors.forEach(function(n){var i=n.line;t.warn(n.reason,h+i,(1===i?c:0)+n.character,r,n.evidence)})}catch(a){}}}})}});HTMLHint.addRule({id:"space-tab-mixed-disabled",description:"Do not mix tabs and spaces for indentation.",init:function(n,t,i){var r=this,e="nomix",u=null,f;"string"==typeof i&&(f=i.match(/^([a-z]+)(\d+)?/),e=f[1],u=f[2]&&parseInt(f[2],10));n.addListener("text",function(i){for(var s,f,o,h=i.raw,c=/(^|\r?\n)([ \t]+)/g;s=c.exec(h);)f=n.fixPos(i,s.index+s[1].length),1===f.col&&(o=s[2],"space"===e?u?(/^ +$/.test(o)===!1||0!=o.length%u)&&t.warn("Please use space for indentation and keep "+u+" length.",f.line,1,r,i.raw):/^ +$/.test(o)===!1&&t.warn("Please use space for indentation.",f.line,1,r,i.raw):"tab"===e&&/^\t+$/.test(o)===!1?t.warn("Please use tab for indentation.",f.line,1,r,i.raw):/ +\t|\t+ /.test(o)===!0&&t.warn("Do not mix tabs and spaces for indentation.",f.line,1,r,i.raw))})}});HTMLHint.addRule({id:"spec-char-escape",description:"Special characters must be escaped.",init:function(n,t){var i=this;n.addListener("text",function(r){for(var u,f,e=r.raw,o=/[<>]/g;u=o.exec(e);)f=n.fixPos(r,u.index),t.error("Special characters must be escaped : [ "+u[0]+" ].",f.line,f.col,i,r.raw)})}});HTMLHint.addRule({id:"src-not-empty",description:"The src attribute of an img(script,link) must have a value.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){for(var r,u=n.tagName,e=n.attrs,o=n.col+u.length+1,f=0,s=e.length;s>f;f++)r=e[f],(/^(img|script|embed|bgsound|iframe)$/.test(u)===!0&&"src"===r.name||"link"===u&&"href"===r.name||"object"===u&&"data"===r.name)&&""===r.value&&t.error("The attribute [ "+r.name+" ] of the tag [ "+u+" ] must have a value.",n.line,o+r.index,i,r.raw)})}});HTMLHint.addRule({id:"style-disabled",description:"<style> tags cannot be used.",init:function(n,t){var i=this;n.addListener("tagstart",function(n){"style"===n.tagName.toLowerCase()&&t.warn("The <style> tag cannot be used.",n.line,n.col,i,n.raw)})}});HTMLHint.addRule({id:"tag-pair",description:"Tag must be paired.",init:function(n,t){var r=this,i=[],u=n.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");n.addListener("tagstart",function(n){var t=n.tagName.toLowerCase();void 0!==u[t]||n.close||i.push({tagName:t,line:n.line,raw:n.raw})});n.addListener("tagend",function(n){for(var f,e,o,s=n.tagName.toLowerCase(),u=i.length-1;u>=0&&i[u].tagName!==s;u--);if(u>=0){for(f=[],e=i.length-1;e>u;e--)f.push("<\/"+i[e].tagName+">");f.length>0&&(o=i[i.length-1],t.error("Tag must be paired, missing: [ "+f.join("")+" ], start tag match failed [ "+o.raw+" ] on line "+o.line+".",n.line,n.col,r,n.raw));i.length=u}else t.error("Tag must be paired, no start tag: [ "+n.raw+" ]",n.line,n.col,r,n.raw)});n.addListener("end",function(n){for(var e,u=[],f=i.length-1;f>=0;f--)u.push("<\/"+i[f].tagName+">");u.length>0&&(e=i[i.length-1],t.error("Tag must be paired, missing: [ "+u.join("")+" ], open tag match failed [ "+e.raw+" ] on line "+e.line+".",n.line,n.col,r,""))})}});HTMLHint.addRule({id:"tag-self-close",description:"Empty tags must be self closed.",init:function(n,t){var i=this,r=n.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");n.addListener("tagstart",function(n){var u=n.tagName.toLowerCase();void 0!==r[u]&&(n.close||t.warn("The empty tag : [ "+u+" ] must be self closed.",n.line,n.col,i,n.raw))})}});HTMLHint.addRule({id:"tagname-lowercase",description:"All html element names must be in lowercase.",init:function(n,t){var i=this;n.addListener("tagstart,tagend",function(n){var r=n.tagName;r!==r.toLowerCase()&&t.error("The html element name of [ "+r+" ] must be in lowercase.",n.line,n.col,i,n.raw)})}});HTMLHint.addRule({id:"title-require",description:"<title> must be present in <head> tag.",init:function(n,t){function r(n){var t=n.tagName.toLowerCase();"head"===t?e=!0:"title"===t&&e&&(i=!0)}function u(e){var s=e.tagName.toLowerCase(),o;i&&"title"===s?(o=e.lastEvent,("text"!==o.type||"text"===o.type&&/^\s*$/.test(o.raw)===!0)&&t.error("<title><\/title> must not be empty.",e.line,e.col,f,e.raw)):"head"===s&&(i===!1&&t.error("<title> must be present in <head> tag.",e.line,e.col,f,e.raw),n.removeListener("tagstart",r),n.removeListener("tagend",u))}var f=this,e=!1,i=!1;n.addListener("tagstart",r);n.addListener("tagend",u)}})
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)}(function(n){"use strict";function u(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).closest("form").ajaxSubmit(i))}function f(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),0===f.length)return;r=f[0]}i=r.form;"image"===(i.clk=r).type&&(void 0!==t.offsetX?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):"function"==typeof n.fn.offset?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var e=/\r?\n/g,i={},r;i.fileapi=void 0!==n('<input type="file">').get(0).files;i.formdata=void 0!==window.FormData;r=!!n.fn.prop;n.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||"string"==typeof n?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(u,f,e,o){function ht(i){function ht(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function ct(){var r=s.attr2("target"),e=s.attr2("action"),o=s.attr("enctype")||s.attr("encoding")||"multipart/form-data",u,i;h.setAttribute("target",k);l&&!/post/i.test(l)||h.setAttribute("method","POST");e!==f.url&&h.setAttribute("action",f.url);f.skipEncodingOverride||l&&!/post/i.test(l)||s.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});f.timeout&&(g=setTimeout(function(){ut=!0;w(ft)},f.timeout));u=[];try{if(f.extraData)for(i in f.extraData)f.extraData.hasOwnProperty(i)&&(n.isPlainObject(f.extraData[i])&&f.extraData[i].hasOwnProperty("name")&&f.extraData[i].hasOwnProperty("value")?u.push(n('<input type="hidden" name="'+f.extraData[i].name+'">',nt).val(f.extraData[i].value).appendTo(h)[0]):u.push(n('<input type="hidden" name="'+i+'">',nt).val(f.extraData[i]).appendTo(h)[0]));f.iframeTarget||y.appendTo(st);c.attachEvent?c.attachEvent("onload",w):c.addEventListener("load",w,!1);setTimeout(function r(){try{var n=ht(c).readyState;t("state = "+n);n&&"uninitialized"===n.toLowerCase()&&setTimeout(r,50)}catch(r){t("Server abort: ",r," (",r.name,")");w(it);g&&clearTimeout(g);g=void 0}},15);try{h.submit()}catch(r){document.createElement("form").submit.apply(h)}}finally{h.setAttribute("action",e);h.setAttribute("enctype",o);r?h.setAttribute("target",r):s.removeAttr("target");n(u).remove()}}function w(i){var u,r,b,s,k,d,h,l,a;if(!e.aborted&&!at){if((o=ht(c))||(t("cannot access response document"),i=it),i===ft&&e)return e.abort("timeout"),void v.reject(e,"timeout");if(i===it&&e)return e.abort("server abort"),void v.reject(e,"error","server abort");if(o&&o.location.href!==f.iframeSrc||ut){c.detachEvent?c.detachEvent("onload",w):c.removeEventListener("load",w,!1);r="success";try{if(ut)throw"timeout";if(b="xml"===f.dataType||o.XMLDocument||n.isXMLDoc(o),t("isXml="+b),!b&&window.opera&&(null===o.body||!o.body.innerHTML)&&--vt)return t("requeing onLoad callback, DOM not available"),void setTimeout(w,250);s=o.body?o.body:o.documentElement;e.responseText=s?s.innerHTML:null;e.responseXML=o.XMLDocument?o.XMLDocument:o;b&&(f.dataType="xml");e.getResponseHeader=function(n){return{"content-type":f.dataType}[n.toLowerCase()]};s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText);k=(f.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):d&&(l=o.getElementsByTagName("pre")[0],a=o.getElementsByTagName("body")[0],l?e.responseText=l.textContent?l.textContent:l.innerText:a&&(e.responseText=a.textContent?a.textContent:a.innerText))):"xml"===k&&!e.responseXML&&e.responseText&&(e.responseXML=yt(e.responseText));try{lt=wt(e,k,f)}catch(i){r="parsererror";e.error=u=i||r}}catch(i){t("error caught: ",i);r="error";e.error=u=i||r}e.aborted&&(t("upload aborted"),r=null);e.status&&(r=200<=e.status&&e.status<300||304===e.status?"success":"error");"success"===r?(f.success&&f.success.call(f.context,lt,"success",e),v.resolve(e.responseText,"success",e),p&&n.event.trigger("ajaxSuccess",[e,f])):r&&(void 0===u&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),v.reject(e,"error",u),p&&n.event.trigger("ajaxError",[e,f,u]));p&&n.event.trigger("ajaxComplete",[e,f]);p&&!--n.active&&n.event.trigger("ajaxStop");f.complete&&f.complete.call(f.context,e,r);at=!0;f.timeout&&clearTimeout(g);setTimeout(function(){f.iframeTarget?y.attr("src",f.iframeSrc):y.remove();e.responseXML=null},100)}}}var rt,tt,f,p,k,y,c,e,d,b,ut,g,h=s[0],v=n.Deferred(),nt,st,ft,it,et,ot,lt,o,at,vt;if(v.abort=function(n){e.abort(n)},i)for(tt=0;tt<a.length;tt++)rt=n(a[tt]),r?rt.prop("disabled",!1):rt.removeAttr("disabled");if((f=n.extend(!0,{},n.ajaxSettings,u)).context=f.context||f,k="jqFormIO"+(new Date).getTime(),nt=h.ownerDocument,st=s.closest("body"),f.iframeTarget?(b=(y=n(f.iframeTarget,nt)).attr2("name"))?k=b:y.attr2("name",k):(y=n('<iframe name="'+k+'" src="'+f.iframeSrc+'" />',nt)).css({position:"absolute",top:"-1000px",left:"-1000px"}),c=y[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r="timeout"===i?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{c.contentWindow.document.execCommand&&c.contentWindow.document.execCommand("Stop")}catch(i){}y.attr("src",f.iframeSrc);e.error=r;f.error&&f.error.call(f.context,e,r,i);p&&n.event.trigger("ajaxError",[e,f,r]);f.complete&&f.complete.call(f.context,e,r)}},(p=f.global)&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&!1===f.beforeSend.call(f.context,e,f))return f.global&&n.active--,v.reject(),v;if(e.aborted)return v.reject(),v;(d=h.clk)&&(b=d.name)&&!d.disabled&&(f.extraData=f.extraData||{},f.extraData[b]=d.value,"image"===d.type&&(f.extraData[b+".x"]=h.clk_x,f.extraData[b+".y"]=h.clk_y));ft=1;it=2;et=n("meta[name=csrf-token]").attr("content");ot=n("meta[name=csrf-param]").attr("content");ot&&et&&(f.extraData=f.extraData||{},f.extraData[ot]=et);f.forceSync?ct():setTimeout(ct,10);vt=50;var yt=n.parseXML||function(n,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},pt=n.parseJSON||function(n){return window.eval("("+n+")")},wt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=("xml"===i||!i)&&0<=f.indexOf("xml"),u=e?t.responseXML:t.responseText;return e&&"parsererror"===u.documentElement.nodeName&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),"string"==typeof u&&(("json"===i||!i)&&0<=f.indexOf("json")?u=pt(u):("script"===i||!i)&&0<=f.indexOf("javascript")&&n.globalEval(u)),u};return v}var l,tt,y,s,p,w,b,a,h,g,v,c,it,rt,ut,k,st,d;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(s=this,"function"==typeof u?u={success:u}:"string"==typeof u||!1===u&&0<arguments.length?(u={url:u,data:f,dataType:e},"function"==typeof o&&(u.success=o)):void 0===u&&(u={}),l=u.method||u.type||this.attr2("method"),y=(y=(y="string"==typeof(tt=u.url||this.attr2("action"))?n.trim(tt):"")||window.location.href||"")&&(y.match(/^([^#]+)/)||[])[1],u=n.extend(!0,{url:y,success:n.ajaxSettings.success,type:l||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},u),p={},this.trigger("form-pre-serialize",[this,u,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(u.beforeSerialize&&!1===u.beforeSerialize(this,u))return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(w=u.traditional,void 0===w&&(w=n.ajaxSettings.traditional),a=[],h=this.formToArray(u.semantic,a,u.filtering),u.data&&(g=n.isFunction(u.data)?u.data(h):u.data,u.extraData=g,b=n.param(g,w)),u.beforeSubmit&&!1===u.beforeSubmit(h,this,u))return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,u,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;v=n.param(h,w);b&&(v=v?v+"&"+b:b);"GET"===u.type.toUpperCase()?(u.url+=(0<=u.url.indexOf("?")?"&":"?")+v,u.data=null):u.data=v;c=[];(u.resetForm&&c.push(function(){s.resetForm()}),u.clearForm&&c.push(function(){s.clearForm(u.includeHidden)}),!u.dataType&&u.target)?(it=u.success||function(){},c.push(function(t){var i=arguments,r=u.replaceTarget?"replaceWith":"html";n(u.target)[r](t).each(function(){it.apply(this,i)})})):u.success&&(n.isArray(u.success)?n.merge(c,u.success):c.push(u.success));(u.success=function(n,t,i){for(var f=u.context||this,r=0,e=c.length;r<e;r++)c[r].apply(f,[n,t,i||s,s])},u.error)&&(rt=u.error,u.error=function(n,t,i){var r=u.context||this;rt.apply(r,[n,t,i,s])});u.complete&&(ut=u.complete,u.complete=function(n,t){var i=u.context||this;ut.apply(i,[n,t,s])});var ft=0<n("input[type=file]:enabled",this).filter(function(){return""!==n(this).val()}).length,et="multipart/form-data",ot=s.attr("enctype")===et||s.attr("encoding")===et,nt=i.fileapi&&i.formdata;for(t("fileAPI :"+nt),st=(ft||ot)&&!nt,!1!==u.iframe&&(u.iframe||st)?u.closeKeepAlive?n.get(u.closeKeepAlive,function(){k=ht(h)}):k=ht(h):k=(ft||ot)&&nt?function(t){for(var f,r,o,e=new FormData,i=0;i<t.length;i++)e.append(t[i].name,t[i].value);if(u.extraData)for(f=function(t){for(var f,r=n.param(t,u.traditional).split("&"),o=r.length,e=[],i=0;i<o;i++)r[i]=r[i].replace(/\+/g," "),f=r[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}(u.extraData),i=0;i<f.length;i++)f[i]&&e.append(f[i][0],f[i][1]);return u.data=null,r=n.extend(!0,{},n.ajaxSettings,u,{contentType:!1,processData:!1,cache:!1,type:l||"POST"}),u.uploadProgress&&(r.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,r=n.total;n.lengthComputable&&(t=Math.ceil(i/r*100));u.uploadProgress(n,i,r,t)},!1),t}),r.data=null,o=r.beforeSend,r.beforeSend=function(n,t){t.data=u.formData?u.formData:e;o&&o.call(this,n,t)},n.ajax(r)}(h):n.ajax(u),s.removeData("jqxhr").data("jqxhr",k),d=0;d<a.length;d++)a[d]=null;return this.trigger("form-submit-notify",[this,u]),this};n.fn.ajaxForm=function(i,r,e,o){if(("string"==typeof i||!1===i&&0<arguments.length)&&(i={url:i,data:r,dataType:e},"function"==typeof o&&(i.success=o)),(i=i||{}).delegation=i.delegation&&n.isFunction(n.fn.on),i.delegation||0!==this.length)return i.delegation?(n(document).off("submit.form-plugin",this.selector,u).off("click.form-plugin",this.selector,f).on("submit.form-plugin",this.selector,i,u).on("click.form-plugin",this.selector,i,f),this):this.ajaxFormUnbind().on("submit.form-plugin",i,u).on("click.form-plugin",i,f);var s={s:this.selector,c:this.context};return!n.isReady&&s.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(s.s,s.c).ajaxForm(i)})):t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this};n.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r,u){var o=[],v,p,y;if(0===this.length)return o;var w,a,c,e,l,f,b,k,s=this[0],d=this.attr("id"),h=t||void 0===s.elements?s.getElementsByTagName("*"):s.elements;if(h=h&&n.makeArray(h),d&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(w=n(':input[form="'+d+'"]').get()).length&&(h=(h||[]).concat(w)),!h||!h.length)return o;for(n.isFunction(u)&&(h=n.map(h,u)),a=0,b=h.length;a<b;a++)if((e=(f=h[a]).name)&&!f.disabled)if(t&&s.clk&&"image"===f.type)s.clk===f&&(o.push({name:e,value:n(f).val(),type:f.type}),o.push({name:e+".x",value:s.clk_x},{name:e+".y",value:s.clk_y}));else if((l=n.fieldValue(f,!0))&&l.constructor===Array)for(r&&r.push(f),c=0,k=l.length;c<k;c++)o.push({name:e,value:l[c]});else if(i.fileapi&&"file"===f.type)if(r&&r.push(f),v=f.files,v.length)for(c=0;c<v.length;c++)o.push({name:e,value:v[c],type:f.type});else o.push({name:e,value:"",type:f.type});else null!=l&&(r&&r.push(f),o.push({name:e,value:l,type:f.type,required:f.required}));return!t&&s.clk&&(p=n(s.clk),y=p[0],(e=y.name)&&!y.disabled&&"image"===y.type&&(o.push({name:e,value:p.val()}),o.push({name:e+".x",value:s.clk_x},{name:e+".y",value:s.clk_y}))),o};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor===Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else null!=r&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)f=this[u],i=n.fieldValue(f,t),null!=i&&(i.constructor!==Array||i.length)&&(i.constructor===Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var v=t.name,u=t.type,c=t.tagName.toLowerCase(),o,r,f;if(void 0===i&&(i=!0),i&&(!v||t.disabled||"reset"===u||"button"===u||("checkbox"===u||"radio"===u)&&!t.checked||("submit"===u||"image"===u)&&t.form&&t.form.clk!==t||"select"===c&&-1===t.selectedIndex))return null;if("select"!==c)return n(t).val().replace(e,"\r\n");if(o=t.selectedIndex,o<0)return null;for(var l=[],a=t.options,s="select-one"===u,y=s?o+1:a.length,h=s?o:0;h<y;h++)if(r=a[h],r.selected&&!r.disabled){if(f=r.value,f=f||(r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;l.push(f)}return l};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||"textarea"===u?this.value="":"checkbox"===r||"radio"===r?this.checked=!1:"select"===u?this.selectedIndex=-1:"file"===r?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(!0===t&&/hidden/.test(r)||"string"==typeof t&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){var t=n(this),f=this.tagName.toLowerCase(),i,r,u;switch(f){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":return i=t.parents("select"),i.length&&i[0].multiple?"option"===f?this.selected=this.defaultSelected:t.find("option").resetForm():i.resetForm(),!0;case"select":return t.find("option").each(function(n){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=n,!1}),!0;case"label":return r=n(t.attr("for")),u=t.find("input,select,textarea"),r[0]&&u.unshift(r[0]),u.resetForm(),!0;case"form":return"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})};n.fn.enable=function(n){return void 0===n&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type,i;"checkbox"===r||"radio"===r?this.checked=t:"option"===this.tagName.toLowerCase()&&(i=n(this).parent("select"),t&&i[0]&&"select-one"===i[0].type&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1})
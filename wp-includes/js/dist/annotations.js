this.wp=this.wp||{};this.wp.annotations=function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((i&1&&(n=t(n)),i&8)||i&4&&typeof n=="object"&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=448)}({1:function(n){(function(){n.exports=this.wp.i18n})()},15:function(n,t,i){"use strict";function u(n,t){var f,i,u,e;if(n==null)return{};if(f=Object(r.a)(n,t),Object.getOwnPropertySymbols)for(e=Object.getOwnPropertySymbols(n),u=0;u<e.length;u++)(i=e[u],t.indexOf(i)>=0)||Object.prototype.propertyIsEnumerable.call(n,i)&&(f[i]=n[i]);return f}i.d(t,"a",function(){return u});var r=i(41)},18:function(n,t,i){"use strict";function e(n){if(Array.isArray(n))return Object(r.a)(n)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function s(n){return e(n)||Object(u.a)(n)||Object(f.a)(n)||o()}var r,u,f;i.d(t,"a",function(){return s});r=i(26);u=i(35);f=i(29)},2:function(n){(function(){n.exports=this.lodash})()},25:function(n){(function(){n.exports=this.wp.richText})()},26:function(n,t,i){"use strict";function r(n,t){(t==null||t>n.length)&&(t=n.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=n[i];return r}i.d(t,"a",function(){return r})},29:function(n,t,i){"use strict";function u(n,t){if(n){if(typeof n=="string")return Object(r.a)(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);return(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(r.a)(n,t):void 0}}i.d(t,"a",function(){return u});var r=i(26)},32:function(n){(function(){n.exports=this.wp.hooks})()},35:function(n,t,i){"use strict";function r(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}i.d(t,"a",function(){return r})},4:function(n){(function(){n.exports=this.wp.data})()},41:function(n,t,i){"use strict";function r(n,t){if(n==null)return{};for(var u={},f=Object.keys(n),i,r=0;r<f.length;r++)(i=f[r],t.indexOf(i)>=0)||(u[i]=n[i]);return u}i.d(t,"a",function(){return r})},42:function(n,t){"use strict";function e(n){return[n]}function o(n){return!!n&&"object"==typeof n}function u(){var n={clear:function(){n.head=null}};return n}function f(n,t,i){var r;if(n.length!==t.length)return!1;for(r=i;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}var i,r;i={};r=typeof WeakMap!="undefined";t.a=function(n,t){function a(){return s}function v(n){for(var t=s,c=!0,r,e,h,f=0;f<n.length;f++){if(r=n[f],!o(r)){c=!1;break}t.has(r)?t=t.get(r):(e=new WeakMap,t.set(r,e),t=e)}return t.has(i)||(h=u(),h.isUniqueByDependants=c,t.set(i,h)),t.get(i)}function l(){s=r?new WeakMap:u()}function h(){for(var s=arguments.length,r,i,o,u=new Array(s),e=0;e<s;e++)u[e]=arguments[e];for(o=t.apply(null,u),r=c(o),r.isUniqueByDependants||(r.lastDependants&&!f(o,r.lastDependants,0)&&r.clear(),r.lastDependants=o),i=r.head;i;){if(!f(i.args,u,1)){i=i.next;continue}return i!==r.head&&(i.prev.next=i.next,i.next&&(i.next.prev=i.prev),i.next=r.head,i.prev=null,r.head.prev=i,r.head=i),i.val}return i={val:n.apply(null,u)},u[0]=null,i.args=u,r.head&&(r.head.prev=i,i.next=r.head),r.head=i,i.val}var s,c;return t||(t=e),c=r?v:a,h.getDependants=t,h.clear=l,l(),h}},448:function(n,t,i){"use strict";function w(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function b(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?w(Object(i),!0).forEach(function(t){Object(s.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function k(n,t){var i=n.filter(t);return n.length===i.length?n:i}function ct(n){return Object(f.isNumber)(n.start)&&Object(f.isNumber)(n.end)&&n.start<=n.end}function lt(){var u,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1?arguments[1]:undefined,i,r,e;switch(n.type){case"ANNOTATION_ADD":return(i=n.blockClientId,r={id:n.id,blockClientId:i,richTextIdentifier:n.richTextIdentifier,source:n.source,selector:n.selector,range:n.range},r.selector==="range"&&!ct(r.range))?t:(e=(u=t===null||t===void 0?void 0:t[i])!==null&&u!==void 0?u:[],b({},t,Object(s.a)({},i,[].concat(Object(ht.a)(e),[r]))));case"ANNOTATION_REMOVE":return Object(f.mapValues)(t,function(t){return k(t,function(t){return t.id!==n.annotationId})});case"ANNOTATION_UPDATE_RANGE":return Object(f.mapValues)(t,function(t){var i=!1,r=t.map(function(t){return t.id===n.annotationId?(i=!0,b({},t,{range:{start:n.start,end:n.end}})):t});return i?r:t});case"ANNOTATION_REMOVE_SOURCE":return Object(f.mapValues)(t,function(t){return k(t,function(t){return t.source!==n.source})})}return t}function nt(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function vt(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?nt(Object(i),!0).forEach(function(t){Object(s.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function yt(n,t){var i;return(i=n===null||n===void 0?void 0:n[t])!==null&&i!==void 0?i:o}function pt(n){return Object(f.flatMap)(n,function(n){return n})}function wt(){if(!h)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(rt)}function bt(n,t){var i=t||0,r=c;return[r[n[i++]],r[n[i++]],r[n[i++]],r[n[i++]],"-",r[n[i++]],r[n[i++]],"-",r[n[i++]],r[n[i++]],"-",r[n[i++]],r[n[i++]],"-",r[n[i++]],r[n[i++]],r[n[i++]],r[n[i++]],r[n[i++]],r[n[i++]]].join("")}function kt(n,t,i){var f=t&&i||0,r,u;if(typeof n=="string"&&(t=n==="binary"?new Array(16):null,n=null),n=n||{},r=n.random||(n.rng||wt)(),r[6]=r[6]&15|64,r[8]=r[8]&63|128,t)for(u=0;u<16;++u)t[f+u]=r[u];return t||ut(r)}function dt(n){var s=n.blockClientId,t=n.richTextIdentifier,h=t===void 0?null:t,i=n.range,c=i===void 0?null:i,r=n.selector,u=r===void 0?"range":r,f=n.source,l=f===void 0?"default":f,e=n.id,a=e===void 0?ft():e,o={type:"ANNOTATION_ADD",id:a,blockClientId:s,richTextIdentifier:h,source:l,selector:u};return u==="range"&&(o.range=c),o}function gt(n){return{type:"ANNOTATION_REMOVE",annotationId:n}}function ni(n,t,i){return{type:"ANNOTATION_UPDATE_RANGE",annotationId:n,start:t,end:i}}function ti(n){return{type:"ANNOTATION_REMOVE_SOURCE",source:n}}function ui(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return t.forEach(function(t){var i=t.start,r=t.end,u,f;i>n.text.length&&(i=n.text.length);r>n.text.length&&(r=n.text.length);u=v+t.source;f=v+t.id;n=Object(l.applyFormat)(n,{type:a,attributes:{className:u,id:f}},i,r)}),n}function fi(n){var t={};return n.forEach(function(n,i){n=n||[];n=n.filter(function(n){return n.type===a});n.forEach(function(n){var r=n.attributes.id;r=r.replace(v,"");t.hasOwnProperty(r)||(t[r]={start:i});t[r].end=i+1})}),t}function ei(n,t,i){var r=i.removeAnnotation,u=i.updateAnnotationRange;n.forEach(function(n){var i=t[n.id],f,e;if(!i){r(n.id);return}f=n.start;e=n.end;(f!==i.start||e!==i.end)&&u(n.id,i.start,i.end)})}var r,u,o,tt,it,h,rt,c,e,ut,ft,ot,st;i.r(t);r={};i.r(r);i.d(r,"__experimentalGetAnnotationsForBlock",function(){return tt});i.d(r,"__experimentalGetAllAnnotationsForBlock",function(){return yt});i.d(r,"__experimentalGetAnnotationsForRichText",function(){return it});i.d(r,"__experimentalGetAnnotations",function(){return pt});u={};i.r(u);i.d(u,"__experimentalAddAnnotation",function(){return dt});i.d(u,"__experimentalRemoveAnnotation",function(){return gt});i.d(u,"__experimentalUpdateAnnotationRange",function(){return ni});i.d(u,"__experimentalRemoveAnnotationsBySource",function(){return ti});var p=i(4),ht=i(18),s=i(5),f=i(2);var at=lt,d=i(15),g=i(42);for(o=[],tt=Object(g.a)(function(n,t){var i;return((i=n===null||n===void 0?void 0:n[t])!==null&&i!==void 0?i:[]).filter(function(n){return n.selector==="block"})},function(n,t){var i;return[(i=n===null||n===void 0?void 0:n[t])!==null&&i!==void 0?i:o]}),it=Object(g.a)(function(n,t,i){var r;return((r=n===null||n===void 0?void 0:n[t])!==null&&r!==void 0?r:[]).filter(function(n){return n.selector==="range"&&i===n.richTextIdentifier}).map(function(n){var t=n.range,i=Object(d.a)(n,["range"]);return vt({},t,{},i)})},function(n,t){var i;return[(i=n===null||n===void 0?void 0:n[t])!==null&&i!==void 0?i:o]}),h=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),rt=new Uint8Array(16),c=[],e=0;e<256;++e)c[e]=(e+256).toString(16).substr(1);ut=bt;ft=kt;var ii=Object(p.registerStore)("core/annotations",{reducer:at,selectors:r,actions:u}),hi=ii,l=i(25),ri=i(1),a="core/annotation",v="annotation-text-",y="core/annotations";var et={name:a,title:Object(ri.__)("Annotation"),tagName:"mark",className:"annotation-text",attributes:{className:"class",id:"id"},edit:function(){return null},__experimentalGetPropsForEditableTreePreparation:function(n,t){var i=t.richTextIdentifier,r=t.blockClientId;return{annotations:n(y).__experimentalGetAnnotationsForRichText(r,i)}},__experimentalCreatePrepareEditableTree:function(n){var t=n.annotations;return function(n,i){if(t.length===0)return n;var r={formats:n,text:i};return r=ui(r,t),r.formats}},__experimentalGetPropsForEditableTreeChangeHandler:function(n){return{removeAnnotation:n(y).__experimentalRemoveAnnotation,updateAnnotationRange:n(y).__experimentalUpdateAnnotationRange}},__experimentalCreateOnChangeEditableValue:function(n){return function(t){var i=fi(t),r=n.removeAnnotation,u=n.updateAnnotationRange,f=n.annotations;ei(f,i,{removeAnnotation:r,updateAnnotationRange:u})}}},oi=et.name,si=Object(d.a)(et,["name"]);Object(l.registerFormatType)(oi,si);ot=i(32);st=function(n){return Object(p.withSelect)(function(n,t){var i=t.clientId,r=t.className,u=n("core/annotations").__experimentalGetAnnotationsForBlock(i);return{className:u.map(function(n){return"is-annotated-by-"+n.source}).concat(r).filter(Boolean).join(" ")}})(n)};Object(ot.addFilter)("editor.BlockListBlock","core/annotations",st)},5:function(n,t,i){"use strict";function r(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}i.d(t,"a",function(){return r})}})
/*! This file is auto-generated */
this.wp=this.wp||{};this.wp.richText=function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((1&i&&(n=t(n)),8&i)||4&i&&"object"==typeof n&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&i&&"string"!=typeof n)for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=440)}({0:function(n){!function(){n.exports=this.wp.element}()},11:function(n,t){var i;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function r(){for(var n,f,o,e,t=[],i=0;i<arguments.length;i++)if(n=arguments[i],n)if(f=typeof n,"string"===f||"number"===f)t.push(n);else if(Array.isArray(n)&&n.length)o=r.apply(null,n),o&&t.push(o);else if("object"===f)for(e in n)u.call(n,e)&&n[e]&&t.push(e);return t.join(" ")}var u={}.hasOwnProperty;n.exports?(r.default=r,n.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(n.exports=i)}()},14:function(n,t,i){"use strict";function e(n,t){return Object(r.a)(n)||function(n,t){var o,i;if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var r=[],u=!0,f=!1,e=void 0;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);u=!0);}catch(n){f=!0;e=n}finally{try{u||null==i.return||i.return()}finally{if(f)throw e;}}return r}}(n,t)||Object(u.a)(n,t)||Object(f.a)()}i.d(t,"a",function(){return e});var r=i(38),u=i(29),f=i(39)},15:function(n,t,i){"use strict";function u(n,t){var i,u,f,e;if(null==n)return{};if(f=Object(r.a)(n,t),Object.getOwnPropertySymbols)for(e=Object.getOwnPropertySymbols(n),u=0;u<e.length;u++)i=e[u],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(n,i)&&(f[i]=n[i]);return f}i.d(t,"a",function(){return u});var r=i(41)},18:function(n,t,i){"use strict";function e(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||Object(u.a)(n)||Object(f.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}()}i.d(t,"a",function(){return e});var r=i(26),u=i(35),f=i(29)},2:function(n){!function(){n.exports=this.lodash}()},21:function(n){!function(){n.exports=this.wp.keycodes}()},26:function(n,t,i){"use strict";function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=n[i];return r}i.d(t,"a",function(){return r})},29:function(n,t,i){"use strict";function u(n,t){if(n){if("string"==typeof n)return Object(r.a)(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);return"Object"===i&&n.constructor&&(i=n.constructor.name),"Map"===i||"Set"===i?Array.from(n):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(r.a)(n,t):void 0}}i.d(t,"a",function(){return u});var r=i(26)},35:function(n,t,i){"use strict";function r(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}i.d(t,"a",function(){return r})},37:function(n){!function(){n.exports=this.wp.deprecated}()},38:function(n,t,i){"use strict";function r(n){if(Array.isArray(n))return n}i.d(t,"a",function(){return r})},39:function(n,t,i){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}i.d(t,"a",function(){return r})},4:function(n){!function(){n.exports=this.wp.data}()},40:function(n,t,i){"use strict";function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}i.d(t,"a",function(){return r})},41:function(n,t,i){"use strict";function r(n,t){if(null==n)return{};for(var i,u={},f=Object.keys(n),r=0;r<f.length;r++)i=f[r],t.indexOf(i)>=0||(u[i]=n[i]);return u}i.d(t,"a",function(){return r})},42:function(n,t){"use strict";function e(n){return[n]}function u(){var n={clear:function(){n.head=null}};return n}function f(n,t,i){var r;if(n.length!==t.length)return!1;for(r=i;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}var i,r;i={};r="undefined"!=typeof WeakMap;t.a=function(n,t){function c(){o=r?new WeakMap:u()}function s(){for(var r,i,o,s=arguments.length,u=new Array(s),e=0;e<s;e++)u[e]=arguments[e];for(o=t.apply(null,u),(r=h(o)).isUniqueByDependants||(r.lastDependants&&!f(o,r.lastDependants,0)&&r.clear(),r.lastDependants=o),i=r.head;i;){if(f(i.args,u,1))return i!==r.head&&(i.prev.next=i.next,i.next&&(i.next.prev=i.prev),i.next=r.head,i.prev=null,r.head.prev=i,r.head=i),i.val;i=i.next}return i={val:n.apply(null,u)},u[0]=null,i.args=u,r.head&&(r.head.prev=i,i.next=r.head),r.head=i,i.val}var o,h;return t||(t=e),h=r?function(n){for(var r,e,s,h,t=o,c=!0,f=0;f<n.length;f++){if(r=n[f],!(h=r)||"object"!=typeof h){c=!1;break}t.has(r)?t=t.get(r):(e=new WeakMap,t.set(r,e),t=e)}return t.has(i)||((s=u()).isUniqueByDependants=c,t.set(i,s)),t.get(i)}:function(){return o},s.getDependants=t,s.clear=c,c(),s}},440:function(n,t,i){"use strict";function wt(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function vr(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?wt(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):wt(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function wr(n,t){return n.formatTypes[t]}function br(n,t){return Object(f.find)(ft(n),function(n){var i=n.className,r=n.tagName;return null===i&&t===r})}function kr(n,t){return Object(f.find)(ft(n),function(n){var i=n.className;return null!==i&&" ".concat(t," ").indexOf(" ".concat(i," "))>=0})}function dr(n){return{type:"ADD_FORMAT_TYPES",formatTypes:Object(f.castArray)(n)}}function gr(n){return{type:"REMOVE_FORMAT_TYPES",names:Object(f.castArray)(n)}}function it(n,t){var i,r,u,o,s,f,e;if(n===t)return!0;if(!n||!t||n.type!==t.type)return!1;if(i=n.attributes,r=t.attributes,i===r)return!0;if(!i||!r||(u=Object.keys(i),o=Object.keys(r),u.length!==o.length))return!1;for(s=u.length,f=0;f<s;f++)if(e=u[f],i[e]!==r[e])return!1;return!0}function bt(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function b(n){var t=n.formats.slice();return t.forEach(function(n,i){var u=t[i-1],r;u&&(r=n.slice(),r.forEach(function(n,t){var i=u[t];it(n,i)&&(r[t]=i)}),t[i]=r)}),function(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?bt(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):bt(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}({},n,{formats:t})}function kt(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function nu(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?kt(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):kt(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function dt(n,t,i){return(n=n.slice())[t]=i,n}function gt(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.start,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.end,v=n.formats,y=n.activeFormats,i=v.slice(),o,s,h,e,a,c;if(r===u){if(o=Object(f.find)(i[r],{type:t.type}),o){for(s=i[r].indexOf(o);i[r]&&i[r][s]===o;)i[r]=dt(i[r],s,t),r--;for(u++;i[u]&&i[u][s]===o;)i[u]=dt(i[u],s,t),u++}}else{for(h=1/0,e=r;e<u;e++)i[e]?(i[e]=i[e].filter(function(n){return n.type!==t.type}),a=i[e].length,a<h&&(h=a)):(i[e]=[],h=0);for(c=r;c<u;c++)i[c].splice(h,0,t)}return b(nu({},n,{formats:i,activeFormats:[].concat(Object(l.a)(Object(f.reject)(y,{type:t.type})),[t])}))}function p(n,t){var i=n.implementation;return p.body||(p.body=i.createHTMLDocument("").body),p.body.innerHTML=t,p.body}function ni(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function tu(n,t){for(var i in n)if(n[i]===t)return i}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.element,t=n.text,r=n.html,u=n.range,f=n.multilineTag,s=n.multilineWrapperTags,e=n.__unstableIsEditableTree,o=n.preserveWhiteSpace;return"string"==typeof t&&t.length>0?{formats:Array(t.length),replacements:Array(t.length),text:t}:("string"==typeof r&&r.length>0&&(i=p(document,r)),"object"!==Object(et.a)(i)?{formats:[],replacements:[],text:""}:f?ri({element:i,range:u,multilineTag:f,multilineWrapperTags:s,isEditableTree:e,preserveWhiteSpace:o}):ot({element:i,range:u,isEditableTree:e,preserveWhiteSpace:o}))}function w(n,t,i,r){if(i){var o=t.parentNode,f=i.startContainer,h=i.startOffset,e=i.endContainer,s=i.endOffset,u=n.text.length;void 0!==r.start?n.start=u+r.start:t===f&&t.nodeType===t.TEXT_NODE?n.start=u+h:o===f&&t===f.childNodes[h]?n.start=u:o===f&&t===f.childNodes[h-1]?n.start=u+r.text.length:t===f&&(n.start=u);void 0!==r.end?n.end=u+r.end:t===e&&t.nodeType===t.TEXT_NODE?n.end=u+s:o===e&&t===e.childNodes[s-1]?n.end=u+r.text.length:o===e&&t===e.childNodes[s]?n.end=u:t===e&&(n.end=u+s)}}function ii(n){return n.replace(ti,"")}function ot(n){var r=n.element,i=n.range,c=n.multilineTag,u=n.multilineWrapperTags,y=n.currentWrapperTags,p=void 0===y?[]:y,f=n.isEditableTree,s=n.preserveWhiteSpace,t={formats:[],replacements:[],text:""};if(!r)return t;if(!r.hasChildNodes())return w(t,r,i,{formats:[],replacements:[],text:""}),t;for(var b=r.childNodes.length,k=function(n){var h=r.childNodes[n],g=h.nodeName.toLowerCase(),nt,d,rt,b;if(h.nodeType===h.TEXT_NODE)return nt=ii,s||(nt=function(n){return ii(function(n){return n.replace(/[\n\r\t]+/g," ")}(n))}),d=nt(h.nodeValue),i=function(n,t,i){if(t){var f=t.startContainer,e=t.endContainer,r=t.startOffset,u=t.endOffset;return n===f&&(r=i(n.nodeValue.slice(0,r)).length),n===e&&(u=i(n.nodeValue.slice(0,u)).length),{startContainer:f,startOffset:r,endContainer:e,endOffset:u}}}(h,i,nt),w(t,h,i,{text:d}),t.formats.length+=d.length,t.replacements.length+=d.length,t.text+=d,"continue";if(h.nodeType!==h.ELEMENT_NODE)return"continue";if(f&&(h.getAttribute("data-rich-text-placeholder")||"br"===g&&!h.getAttribute("data-rich-text-line-break")))return w(t,h,i,{formats:[],replacements:[],text:""}),"continue";if("br"===g)return w(t,h,i,{formats:[],replacements:[],text:""}),v(t,a({text:"\n"})),"continue";var tt=t.formats[t.formats.length-1],ut=tt&&tt[tt.length-1],ft=function(n){var i,u=n.type,t=n.attributes,f,e,r,s;if(t&&t.class&&(i=Object(o.select)("core/rich-text").getFormatTypeForClassName(t.class))&&(t.class=" ".concat(t.class," ").replace(" ".concat(i.className," ")," ").trim(),t.class||delete t.class),i||(i=Object(o.select)("core/rich-text").getFormatTypeForBareElement(u)),!i)return t?{type:u,attributes:t}:{type:u};if(i.__experimentalCreatePrepareEditableTree&&!i.__experimentalCreateOnChangeEditableValue)return null;if(!t)return{type:i.name};f={};e={};for(r in t)s=tu(i.attributes,r),s?f[s]=t[r]:e[r]=t[r];return{type:i.name,attributes:f,unregisteredAttributes:e}}({type:g,attributes:iu({element:h})}),y=it(ft,ut)?ut:ft;if(u&&-1!==u.indexOf(g))return rt=ri({element:h,range:i,multilineTag:c,multilineWrapperTags:u,currentWrapperTags:[].concat(Object(l.a)(p),[y]),isEditableTree:f,preserveWhiteSpace:s}),w(t,h,i,rt),v(t,rt),"continue";if(b=ot({element:h,range:i,multilineTag:c,multilineWrapperTags:u,isEditableTree:f,preserveWhiteSpace:s}),w(t,h,i,b),y)if(0===b.text.length)y.attributes&&v(t,{formats:[,],replacements:[y],text:"￼"});else{function k(n){if(k.formats===n)return k.newFormats;var t=n?[y].concat(Object(l.a)(n)):[y];return k.formats=n,k.newFormats=t,t}k.newFormats=[y];v(t,function(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?ni(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ni(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}({},b,{formats:Array.from(b.formats,k)}))}else v(t,b)},h=0;h<b;h++)k(h);return t}function ri(n){var u=n.element,s=n.range,h=n.multilineTag,a=n.multilineWrapperTags,c=n.currentWrapperTags,f=void 0===c?[]:c,y=n.isEditableTree,p=n.preserveWhiteSpace,t={formats:[],replacements:[],text:""},l,i,e,o;if(!u||!u.hasChildNodes())return t;for(l=u.children.length,i=0;i<l;i++)e=u.children[i],e.nodeName.toLowerCase()===h&&(o=ot({element:e,range:s,multilineTag:h,multilineWrapperTags:a,currentWrapperTags:f,isEditableTree:y,preserveWhiteSpace:p}),(0!==i||f.length>0)&&v(t,{formats:[,],replacements:f.length>0?[f]:[,],text:r}),w(t,e,s,o),v(t,o));return t}function iu(n){var i=n.element,r,u,t;if(i.hasAttributes()){for(u=i.attributes.length,t=0;t<u;t++){var f=i.attributes[t],e=f.name,o=f.value;0!==e.indexOf("data-rich-text-")&&((r=r||{})[e]=o)}return r}}function v(n,t){return n.formats=n.formats.concat(t.formats),n.replacements=n.replacements.concat(t.replacements),n.text+=t.text,n}function ru(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return b(i.reduce(v,a()))}function rt(n){var r=n.formats,t=n.start,o=n.end,e=n.activeFormats,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u,f;return void 0===t?i:t===o?e?e:(u=r[t-1]||i,f=r[t]||i,u.length<f.length?u:f):r[t]||i}function st(n,t){return Object(f.find)(rt(n),{type:t})}function ui(n){var t=n.start,i=n.end,r=n.replacements,u=n.text;if(t+1===i&&"￼"===u[t])return r[t]}function fi(n){return n.text}function s(n){for(var i=n.start,u=n.text,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,t=f;t--;)if(u[t]===r)return t}function uu(n){var t=n.replacements[s(n,n.start)];return!t||t.length<1}function fu(n,t,i){var r=n.replacements[s(n,n.start)];return r&&0!==r.length?r[r.length-1].type===t:t===i}function g(n){var t=n.start,i=n.end;if(void 0!==t&&void 0!==i)return t===i}function eu(n){return 0===n.text.length}function ei(n){var t=n.text,i=n.start,u=n.end;return i===u&&(0===t.length||0===i&&t.slice(0,1)===r||i===t.length&&t.slice(-1)===r||t.slice(i-1,u+1)==="".concat(r).concat(r))}function ou(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"string"==typeof t&&(t=a({text:t})),b(n.reduce(function(n,i){var r=i.formats,u=i.replacements,f=i.text;return{formats:n.formats.concat(t.formats,r),replacements:n.replacements.concat(t.replacements,u),text:n.text+t.text+f}}))}function oi(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function su(n,t){var i,r;if("string"==typeof(t=function(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?oi(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):oi(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}({name:n},t)).name)if(/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(t.name))if(Object(o.select)("core/rich-text").getFormatType(t.name))window.console.error('Format "'+t.name+'" is already registered.');else if("string"==typeof t.tagName&&""!==t.tagName)if("string"==typeof t.className&&""!==t.className||null===t.className)if(/^[_a-zA-Z]+[a-zA-Z0-9-]*$/.test(t.className)){if(null===t.className){if(i=Object(o.select)("core/rich-text").getFormatTypeForBareElement(t.tagName),i)return void window.console.error('Format "'.concat(i.name,'" is already registered to handle bare tag name "').concat(t.tagName,'".'))}else if(r=Object(o.select)("core/rich-text").getFormatTypeForClassName(t.className),r)return void window.console.error('Format "'.concat(r.name,'" is already registered to handle class name "').concat(t.className,'".'));if("title"in t&&""!==t.title)if("keywords"in t&&t.keywords.length>3)window.console.error('The format "'+t.name+'" can have a maximum of 3 keywords.');else{if("string"==typeof t.title)return Object(o.dispatch)("core/rich-text").addFormatTypes(t),t;window.console.error("Format titles must be strings.")}else window.console.error('The format "'+t.name+'" must have a title.')}else window.console.error("A class name must begin with a letter, followed by any number of hyphens, letters, or numbers.");else window.console.error("Format class names must be a string, or null to handle bare elements.");else window.console.error("Format tag names must be a string.");else window.console.error("Format names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-format");else window.console.error("Format names must be strings.")}function si(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function hu(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?si(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):si(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function ht(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.start,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.end,s=n.formats,h=n.activeFormats,i=s.slice(),o,e;if(r===u){if(o=Object(f.find)(i[r],{type:t}),o){for(;Object(f.find)(i[r],o);)ct(i,r,t),r--;for(u++;Object(f.find)(i[u],o);)ct(i,u,t),u++}}else for(e=r;e<u;e++)i[e]&&ct(i,e,t);return b(hu({},n,{formats:i,activeFormats:Object(f.reject)(h,{type:t})}))}function ct(n,t,i){var r=n[t].filter(function(n){return n.type!==i});r.length?n[t]=r:delete n[t]}function nt(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.start,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.end,f=n.formats,e=n.replacements,o=n.text,u;return"string"==typeof t&&(t=a({text:t})),u=i+t.text.length,b({formats:f.slice(0,i).concat(t.formats,f.slice(r)),replacements:e.slice(0,i).concat(t.replacements,e.slice(r)),text:o.slice(0,i)+t.text+o.slice(r),start:u,end:u})}function lt(n,t,i){return nt(n,a(),t,i)}function at(n,t,i){var r=n.formats,u=n.replacements,f=n.text,e=n.start,o=n.end;return f=f.replace(t,function(n){for(var s,a,f,t,l=arguments.length,h=new Array(l>1?l-1:0),c=1;c<l;c++)h[c-1]=arguments[c];return f=h[h.length-2],t=i,"function"==typeof t&&(t=i.apply(void 0,[n].concat(h))),"object"===Object(et.a)(t)?(s=t.formats,a=t.replacements,t=t.text):(s=Array(t.length),a=Array(t.length),r[f]&&(s=s.fill(r[f]))),r=r.slice(0,f).concat(s,r.slice(f+n.length)),u=u.slice(0,f).concat(a,u.slice(f+n.length)),e&&(e=o=f+t.length),t}),b({formats:r,replacements:u,text:f,start:e,end:o})}function cu(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.start,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.end,o=fi(n).slice(0,t),s=o.lastIndexOf(r),i=n.replacements[s],u=[,],f;return i&&(u=[i]),f={formats:[,],replacements:u,text:r},nt(n,f,t,e)}function hi(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function lu(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?hi(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):hi(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function vt(n){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=n.replacements,a=n.text,u=n.start,f=n.end,e=g(n),t=u-1,h=e?u-1:u,c=f,o,s;if(l||(t=f,h=u,c=e?f+1:f),a[t]===r)return e&&i[t]&&i[t].length?(s=i.slice(),s[t]=i[t].slice(0,-1),o=lu({},n,{replacements:s})):o=lt(n,h,c),o}function au(n,t,i,r){return nt(n,{formats:[,],replacements:[t],text:"￼"},i,r)}function ci(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function vu(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?ci(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ci(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function yu(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.start,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.end,r=n.formats,u=n.replacements,f=n.text;return void 0===t||void 0===i?vu({},n):{formats:r.slice(t,i),replacements:u.slice(t,i),text:f.slice(t,i)}}function pu(n,t){var f=n.formats,e=n.replacements,o=n.text,r=n.start,u=n.end,i;return"string"!=typeof t?wu.apply(void 0,arguments):(i=0,o.split(t).map(function(n){var o=i,s={formats:f.slice(o,o+n.length),replacements:e.slice(o,o+n.length),text:n};return i+=t.length+n.length,void 0!==r&&void 0!==u&&(r>=o&&r<i?s.start=r-o:r<o&&u>o&&(s.start=0),u>=o&&u<i?s.end=u-o:r<i&&u>i&&(s.end=n.length)),s}))}function wu(n){var r=n.formats,u=n.replacements,f=n.text,e=n.start,o=n.end,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s={formats:r.slice(0,t),replacements:u.slice(0,t),text:f.slice(0,t)},h={formats:r.slice(i),replacements:u.slice(i),text:f.slice(i),start:0,end:0};return[at(s,/\u2028+$/,""),at(h,/^\u2028+/,"")]}function li(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function yt(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?li(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):li(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function ai(n){var e=n.type,r=n.attributes,s=n.unregisteredAttributes,h=n.object,c=n.boundaryClass,i=function(n){return Object(o.select)("core/rich-text").getFormatType(n)}(e),t={},u,f;if(c&&(t["data-rich-text-format-boundary"]="true"),!i)return r&&(t=yt({},r,{},t)),{type:e,attributes:t,object:h};for(u in t=yt({},s,{},t),r)f=!!i.attributes&&i.attributes[u],f?t[f]=r[u]:t[u]=r[u];return i.className&&(t.class=t.class?"".concat(i.className," ").concat(t.class):i.className),{type:i.tagName,object:i.object,attributes:t}}function vi(n){var p,h,f,e=n.value,c=n.multilineTag,et=n.preserveWhiteSpace,ot=n.createEmpty,t=n.append,a=n.getLastChild,u=n.getParent,v=n.isText,st=n.getText,ht=n.remove,ct=n.appendText,o=n.onStartIndex,s=n.onEndIndex,w=n.isEditableTree,nt=n.placeholder,tt=e.formats,it=e.replacements,b=e.text,k=e.start,d=e.end,lt=tt.length+1,i=ot(),g={type:c},ut=rt(e),at=ut[ut.length-1],ft,y;for(c?(t(t(i,{type:c}),""),h=p=[g]):t(i,""),ft=function(n){var y=b.charAt(n),ot=w&&(!f||f===r||"\n"===f),rt=tt[n],e,ft,ut;if(c&&(rt=y===r?p=(it[n]||[]).reduce(function(n,t){return n.push(t,g),n},[g]):[].concat(Object(l.a)(p),Object(l.a)(rt||[]))),e=a(i),ot&&y===r){for(ft=e;!v(ft);)ft=a(ft);t(u(ft),"﻿")}if(f===r){for(ut=e;!v(ut);)ut=a(ut);o&&k===n&&o(i,ut);s&&d===n&&s(i,ut)}if(rt&&rt.forEach(function(n,i){if(e&&h&&function(n,t,i){do if(n[i]!==t[i])return!1;while(i--);return!0}(rt,h,i)&&(y!==r||rt.length-1!==i))e=a(e);else{var f=n.type,o=n.attributes,s=n.unregisteredAttributes,c=w&&y!==r&&n===at,l=u(e),p=t(l,ai({type:f,attributes:o,unregisteredAttributes:s,boundaryClass:c}));v(e)&&0===st(e).length&&ht(e);e=t(p,"")}}),y===r)return h=rt,f=y,"continue";0===n&&(o&&0===k&&o(i,e),s&&0===d&&s(i,e));"￼"===y?(e=t(u(e),ai(yt({},it[n],{object:!0}))),e=t(u(e),"")):et||"\n"!==y?v(e)?ct(e,y):e=t(u(e),y):(e=t(u(e),{type:"br",attributes:w?{"data-rich-text-line-break":"true"}:void 0,object:!0}),e=t(u(e),""));o&&k===n+1&&o(i,e);s&&d===n+1&&s(i,e);ot&&n===b.length&&(t(u(e),"﻿"),nt&&0===b.length&&t(u(e),{type:"span",attributes:{"data-rich-text-placeholder":nt,contenteditable:"false"}}));h=rt;f=y},y=0;y<lt;y++)ft(y);return i}function yi(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function pt(n,t,i){for(var r=n.parentNode,u=0;n=n.previousSibling;)u++;return i=[u].concat(Object(l.a)(i)),r!==t&&(i=pt(r,t,i)),i}function pi(n,t){for(t=Object(l.a)(t);n&&t.length>1;)n=n.childNodes[t.shift()];return{node:n,offset:t[0]}}function bu(n,t){var i;"string"==typeof t&&(t=n.ownerDocument.createTextNode(t));var r=t,u=r.type,f=r.attributes;if(u)for(i in t=n.ownerDocument.createElement(u),f)t.setAttribute(i,f[i]);return n.appendChild(t)}function ku(n,t){n.appendData(t)}function du(n){return n.lastChild}function gu(n){return n.parentNode}function nf(n){return n.nodeType===n.TEXT_NODE}function tf(n){return n.nodeValue}function rf(n){return n.parentNode.removeChild(n)}function wi(n){var t=n.value,s=n.multilineTag,i=n.prepareEditableTree,r=n.isEditableTree,h=void 0===r||r,c=n.placeholder,u=n.doc,l=void 0===u?document:u,f=[],o=[];return i&&(t=function(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?yi(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):yi(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}({},t,{formats:i(t)})),{body:vi({value:t,multilineTag:s,createEmpty:function(){return p(l,"")},append:bu,getLastChild:du,getParent:gu,isText:nf,getText:tf,remove:rf,appendText:ku,onStartIndex:function(n,t){f=pt(t,n,[t.nodeValue.length])},onEndIndex:function(n,t){o=pt(t,n,[t.nodeValue.length])},isEditableTree:h,placeholder:c}),selection:{startPath:f,endPath:o}}}function uf(n){var i=n.value,t=n.current,u=n.multilineTag,f=n.prepareEditableTree,e=n.__unstableDomOnly,r=wi({value:i,multilineTag:u,prepareEditableTree:f,placeholder:n.placeholder,doc:t.ownerDocument}),o=r.body,s=r.selection;!function n(t,i){for(var u,f=0,r,e,o,h,c,s;u=t.firstChild;){if(r=i.childNodes[f],r)if(r.isEqualNode(u))t.removeChild(u);else if(r.nodeName!==u.nodeName||r.nodeType===r.TEXT_NODE&&r.data!==u.data)i.replaceChild(u,r);else{if(e=r.attributes,o=u.attributes,e)for(h=e.length;h--;)c=e[h].name,u.getAttribute(c)||r.removeAttribute(c);if(o)for(s=0;s<o.length;s++){var l=o[s],a=l.name,v=l.value;r.getAttribute(a)!==v&&r.setAttribute(a,v)}n(u,r);t.removeChild(u)}else i.appendChild(u);f++}for(;i.childNodes[f];)i.removeChild(i.childNodes[f])}(o,t);void 0===i.start||e||function(n,t){var l=n.startPath,a=n.endPath,s=pi(t,l),v=s.node,y=s.offset,h=pi(t,a),p=h.node,w=h.offset,u=t.ownerDocument,c=u.defaultView,f=c.getSelection(),e=u.createRange(),o,i,r;if(e.setStart(v,y),e.setEnd(p,w),o=u.activeElement,f.rangeCount>0){if(i=e,r=f.getRangeAt(0),i.startContainer===r.startContainer&&i.startOffset===r.startOffset&&i.endContainer===r.endContainer&&i.endOffset===r.endOffset)return;f.removeAllRanges()}f.addRange(e);o!==u.activeElement&&o instanceof c.HTMLElement&&o.focus()}(s,t)}function bi(n){return ki(vi({value:n.value,multilineTag:n.multilineTag,preserveWhiteSpace:n.preserveWhiteSpace,createEmpty:ff,append:of,getLastChild:ef,getParent:hf,isText:cf,getText:lf,remove:af,appendText:sf}).children)}function ff(){return{}}function ef(n){var t=n.children;return t&&t[t.length-1]}function of(n,t){return"string"==typeof t&&(t={text:t}),t.parent=n,n.children=n.children||[],n.children.push(t),t}function sf(n,t){n.text+=t}function hf(n){return n.parent}function cf(n){return"string"==typeof n.text}function lf(n){return n.text}function af(n){var t=n.parent.children.indexOf(n);return-1!==t&&n.parent.children.splice(t,1),n}function vf(n){var t=n.type,u=n.attributes,f=n.object,e=n.children,i="";for(var r in u)Object(ut.isValidAttributeName)(r)&&(i+=" ".concat(r,'="').concat(Object(ut.escapeAttribute)(u[r]),'"'));return f?"<".concat(t).concat(i,">"):"<".concat(t).concat(i,">").concat(ki(e),"<\/").concat(t,">")}function ki(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.map(function(n){return void 0===n.text?vf(n):Object(ut.escapeEditableHTML)(n.text)}).join("")}function yf(n,t){return st(n,t.type)?ht(n,t.type):gt(n,t)}function pf(n){var t=Object(o.select)("core/rich-text").getFormatType(n);if(t)return Object(o.dispatch)("core/rich-text").removeFormatTypes(n),t;window.console.error("Format ".concat(n," is not registered."))}function di(n){var t=s(n);if(void 0===t)return!1;var i=n.replacements,r=s(n,t),u=i[t]||[],f=i[r]||[];return u.length<=f.length}function gi(n){return void 0!==n.replacements[s(n,n.start)]}function nr(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function tr(n,t){var c,f,a;if(!di(n))return n;for(var o=s(n),v=s(n,o),y=n.text,h=n.replacements,p=n.end,u=h.slice(),l=function(n,t){for(var u,o=n.text,f=n.replacements,e=f[t]||[],i=t;i-->=0;)if(o[i]===r){if(u=f[i]||[],u.length===e.length+1)return i;if(u.length<=e.length)return}}(n,o),i=o;i<p;i++)y[i]===r&&(l?(c=h[l]||[],u[i]=c.concat((u[i]||[]).slice(c.length-1))):(f=h[v]||[],a=f[f.length-1]||t,u[i]=f.concat([a],(u[i]||[]).slice(f.length))));return function(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?nr(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):nr(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}({},n,{replacements:u})}function ir(n,t){for(var f=n.text,u=n.replacements,e=u[t]||[],i=t;i-->=0;)if(f[i]===r&&(u[i]||[]).length===e.length-1)return i}function rr(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function wf(n){var h;if(!gi(n))return n;for(var c=n.text,u=n.replacements,l=n.start,a=n.end,f=s(n,l),i=u.slice(0),o=u[ir(n,f)]||[],v=function(n,t){for(var f=n.text,e=n.replacements,o=e[t]||[],u=t,i=t||0;i<f.length;i++)if(f[i]===r){if(!((e[i]||[]).length>=o.length))return u;u=i}return u}(n,s(n,a)),t=f;t<=v;t++)c[t]===r&&(h=i[t]||[],i[t]=o.concat(h.slice(o.length+1)),0===i[t].length&&delete i[t]);return function(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?rr(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):rr(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}({},n,{replacements:i})}function ur(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function bf(n,t){for(var o,h=n.text,f=n.replacements,a=n.start,v=n.end,c=s(n,a),y=f[c]||[],p=f[s(n,v)]||[],w=ir(n,c),u=f.slice(),l=y.length-1,b=p.length-1,i=w+1||0;i<h.length;i++)if(h[i]===r){if((u[i]||[]).length<=l)break;u[i]&&(o=!0,u[i]=u[i].map(function(n,i){return i<l||i>b?n:t}))}return o?function(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?ur(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ur(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}({},n,{replacements:u}):n}function er(n){var r=n.formatTypes,f=n.onChange,e=n.onFocus,t=n.value,i=n.allowedFormats,o=n.withoutInteractiveFormatting;return r.map(function(n){var r=n.name,h=n.edit,v=n.tagName;if(!h||i&&-1===i.indexOf(r)||o&&re.has(v))return null;var c=st(t,r),l=void 0!==c,s=ui(t),a=void 0!==s&&s.type===r;return Object(u.createElement)(h,{key:r,isActive:l,activeAttributes:l&&c.attributes||{},isObjectActive:a,activeObjectAttributes:a&&s.attributes||{},value:t,onChange:f,onFocus:e})})}function or(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function tt(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?or(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):or(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function ue(n){return n("core/rich-text").getFormatTypes()}function sr(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function c(n){for(var i,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},t%2?sr(Object(i),!0).forEach(function(t){Object(e.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):sr(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function hr(n,t){var i=Object.keys(n).reduce(function(i,r){return r.startsWith(t)&&i.push(n[r]),i},[]);return function(n){return i.reduce(function(t,i){return i(t,n.text)},n.formats)}}var y,d,l,et,r,ti,ut,cr,lr,ar;i.r(t);i.d(t,"applyFormat",function(){return gt});i.d(t,"concat",function(){return ru});i.d(t,"create",function(){return a});i.d(t,"getActiveFormat",function(){return st});i.d(t,"getActiveObject",function(){return ui});i.d(t,"getTextContent",function(){return fi});i.d(t,"__unstableIsListRootSelected",function(){return uu});i.d(t,"__unstableIsActiveListType",function(){return fu});i.d(t,"isCollapsed",function(){return g});i.d(t,"isEmpty",function(){return eu});i.d(t,"__unstableIsEmptyLine",function(){return ei});i.d(t,"join",function(){return ou});i.d(t,"registerFormatType",function(){return su});i.d(t,"removeFormat",function(){return ht});i.d(t,"remove",function(){return lt});i.d(t,"replace",function(){return at});i.d(t,"insert",function(){return nt});i.d(t,"__unstableInsertLineSeparator",function(){return cu});i.d(t,"__unstableRemoveLineSeparator",function(){return vt});i.d(t,"insertObject",function(){return au});i.d(t,"slice",function(){return yu});i.d(t,"split",function(){return pu});i.d(t,"__unstableToDom",function(){return wi});i.d(t,"toHTMLString",function(){return bi});i.d(t,"toggleFormat",function(){return yf});i.d(t,"__UNSTABLE_LINE_SEPARATOR",function(){return r});i.d(t,"unregisterFormatType",function(){return pf});i.d(t,"__unstableCanIndentListItems",function(){return di});i.d(t,"__unstableCanOutdentListItems",function(){return gi});i.d(t,"__unstableIndentListItems",function(){return tr});i.d(t,"__unstableOutdentListItems",function(){return wf});i.d(t,"__unstableChangeListType",function(){return bf});i.d(t,"__unstableCreateElement",function(){return p});i.d(t,"__experimentalRichText",function(){return ar});i.d(t,"__unstableFormatEdit",function(){return er});y={};i.r(y);i.d(y,"getFormatTypes",function(){return ft});i.d(y,"getFormatType",function(){return wr});i.d(y,"getFormatTypeForBareElement",function(){return br});i.d(y,"getFormatTypeForClassName",function(){return kr});d={};i.r(d);i.d(d,"addFormatTypes",function(){return dr});i.d(d,"removeFormatTypes",function(){return gr});var o=i(4),e=i(5),f=i(2);var yr=Object(o.combineReducers)({formatTypes:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FORMAT_TYPES":return vr({},n,{},Object(f.keyBy)(t.formatTypes,"name"));case"REMOVE_FORMAT_TYPES":return Object(f.omit)(n,t.names)}return n}}),pr=i(42),ft=Object(pr.a)(function(n){return Object.values(n.formatTypes)},function(n){return[n.formatTypes]});Object(o.registerStore)("core/rich-text",{reducer:yr,selectors:y,actions:d});l=i(18);et=i(40);r="\u2028";ti=new RegExp("﻿","g");ut=i(89);var fr=i(8),kf=i(14),df=i(15),u=i(0),gf=i(11),ne=i.n(gf),h=i(21),te=i(37),ie=i.n(te),re=new Set(["a","audio","button","details","embed","iframe","input","label","select","textarea","video"]);var fe=new Set(["insertParagraph","insertOrderedList","insertUnorderedList","insertHorizontalRule","insertLink"]),ee={whiteSpace:"pre-wrap"},k=[];lr=(cr=function(n){function w(){return i.current.ownerDocument}function s(){return w().defaultView}function fr(n){if(pt)return{text:n,formats:Array(n.length),replacements:Array(n.length)};if("string"!==pi)return n;var i=hr(st,"format_value_functions"),t=a({html:n,multilineTag:o,multilineWrapperTags:"li"===o?["ul","ol"]:void 0,preserveWhiteSpace:ni});return t.formats=i(t),t}function ri(n){return yt.forEach(function(t){t.__experimentalCreatePrepareEditableTree&&(n=ht(n,t.name,0,n.text.length))}),n}function or(n){return pt?n.text:(n=ri(n),"string"===pi?bi({value:n,multilineTag:o,preserveWhiteSpace:ni}):void 0)}function ct(){var n=s().getSelection(),t=n.rangeCount>0?n.getRangeAt(0):null;return a({element:i.current,range:t,multilineTag:o,multilineWrapperTags:"li"===o?["ul","ol"]:void 0,__unstableIsEditableTree:!0,preserveWhiteSpace:ni})}function v(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.domOnly;uf({value:n,current:i.current,multilineTag:o,multilineWrapperTags:"li"===o?["ul","ol"]:void 0,prepareEditableTree:hr(st,"format_prepare_functions"),__unstableDomOnly:r,placeholder:dt})}function fi(){ui.current!==b.current&&(ru(),ui.current=b.current)}function oi(n){var i,u;if(!at.current)if(n&&(i=n.inputType),!i&&n&&n.nativeEvent&&(i=n.nativeEvent.inputType),i&&(0===i.indexOf("format")||fe.has(i)))v(t.current);else{var f=ct(),o=t.current,a=o.start,h=o.activeFormats,l=void 0===h?[]:h,r=function(n){var t=n.value,f=n.start,i=n.end,e=n.formats,r=t.formats[f-1]||[],u=t.formats[i]||[];for(t.activeFormats=e.map(function(n,t){if(r[t]){if(it(n,r[t]))return r[t]}else if(u[t]&&it(n,u[t]))return u[t];return n});--i>=f;)t.activeFormats.length>0?t.formats[i]=t.activeFormats:delete t.formats[i];return t}({value:f,start:a,end:f.start,formats:l});(e(r,{withoutHistory:!0}),s().clearTimeout(wt.current),wt.current=s().setTimeout(fi,1e3),"insertText"===i)&&(gr&&nr&&nr(r,or),u=yt.reduce(function(n,t){var i=t.__unstableInputRule;return i&&(n=i(n)),n},r),u!==r&&(fi(),e(c({},u,{activeFormats:l})),dr()))}}function l(n){var u,f;if(i.current&&document.activeElement===i.current&&("selectionchange"===n.type||p)&&!gt&&!at.current){var o=ct(),e=o.start,h=o.end,l=o.text,r=t.current;l===r.text?e!==r.start||h!==r.end?(u=c({},r,{start:e,end:h,activeFormats:void 0}),f=rt(u,k),u.activeFormats=f,!ir&&f.length?tu():ir&&!f.length&&iu(),t.current=u,v(u,{domOnly:!0}),ot(e,h),d(f)):0===r.text.length&&0===e&&function(n){var i=n.getSelection(),r=i.anchorNode,u=i.anchorOffset,t;r.nodeType===r.ELEMENT_NODE&&(t=r.childNodes[u],t&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute("data-rich-text-placeholder")&&i.collapseToStart())}(s()):oi()}}function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=r.withoutHistory;pt&&(n.formats=Array(n.text.length),n.replacements=Array(n.text.length));v(n);var e=n.start,o=n.end,i=n.activeFormats,s=void 0===i?[]:i,h=Object(f.pickBy)(st,function(n,t){return t.startsWith("format_on_change_functions_")});Object.values(h).forEach(function(t){t(n.formats,n.text)});b.current=or(n);t.current=n;ot(e,o);wr(b.current);d(s);u||fi()}function sr(n){var t=n.target;if(t!==i.current&&!t.textContent){var e=t.parentNode,u=Array.from(e.childNodes).indexOf(t),r=w().createRange(),f=s().getSelection();r.setStart(t.parentNode,u);r.setEnd(t.parentNode,u+1);f.removeAllRanges();f.addRange(r)}}function bt(){b.current=y;t.current=fr(y);t.current.start=ft;t.current.end=et;v(t.current)}function lr(){i.current.focus();v(t.current)}var ci=n.tagName,ut=void 0===ci?"div":ci,li=n.value,y=void 0===li?"":li,ft=n.selectionStart,et=n.selectionEnd,kt=n.children,vr=n.allowedFormats,yr=n.withoutInteractiveFormatting,yt=n.formatTypes,ai=n.style,pr=n.className,dt=n.placeholder,gt=n.disabled,ni=n.preserveWhiteSpace,vi=n.onPaste,yi=n.format,pi=void 0===yi?"string":yi,wi=n.onDelete,ki=n.onEnter,ot=n.onSelectionChange,wr=n.onChange,di=n.unstableOnFocus,gi=n.setFocusedElement,br=n.instanceId,o=n.__unstableMultilineTag,ti=n.__unstableMultilineRootTag,pt=n.__unstableDisableFormats,kr=n.__unstableDidAutomaticChange,nr=n.__unstableInputRule,dr=n.__unstableMarkAutomaticChange,gr=n.__unstableAllowPrefixTransformations,nu=n.__unstableUndo,ir=n.__unstableIsCaretWithinFormattedText,tu=n.__unstableOnEnterFormattedText,iu=n.__unstableOnExitFormattedText,ru=n.__unstableOnCreateUndoLevel,p=n.__unstableIsSelected,i=n.forwardedRef,st=Object(df.a)(n,["tagName","value","selectionStart","selectionEnd","children","allowedFormats","withoutInteractiveFormatting","formatTypes","style","className","placeholder","disabled","preserveWhiteSpace","onPaste","format","onDelete","onEnter","onSelectionChange","onChange","unstableOnFocus","setFocusedElement","instanceId","__unstableMultilineTag","__unstableMultilineRootTag","__unstableDisableFormats","__unstableDidAutomaticChange","__unstableInputRule","__unstableMarkAutomaticChange","__unstableAllowPrefixTransformations","__unstableUndo","__unstableIsCaretWithinFormattedText","__unstableOnEnterFormattedText","__unstableOnExitFormattedText","__unstableOnCreateUndoLevel","__unstableIsSelected","forwardedRef"]),uu=Object(u.useState)(),rr=Object(kf.a)(uu,2),ur=rr[0],ii=void 0===ur?[]:ur,d=rr[1],b,t,ui,at,wt,tt,si,cr,ar,hi;return ti||"string"!=typeof ut||(ti=ut),b=Object(u.useRef)(y),t=Object(u.useRef)(Object(u.useMemo)(function(){var n=fr(y);return n.start=ft,n.end=et,n},[])),ui=Object(u.useRef)(y),at=Object(u.useRef)(!1),wt=Object(u.useRef)(),tt=Object(u.useRef)(!1),si=Object(u.useRef)(),Object(u.useEffect)(function(){tt.current&&bt()},[ut,dt]),Object(u.useEffect)(function(){tt.current&&y!==b.current&&bt()},[y]),Object(u.useEffect)(function(){tt.current&&(!p||ft===t.current.start&&et===t.current.end?t.current=c({},t.current,{start:ft,end:et}):bt())},[ft,et,p]),cr=Object(f.pickBy)(st,function(n,t){return t.startsWith("format_prepare_props_")}),Object(u.useEffect)(function(){tt.current&&bt()},Object.values(cr)),Object(u.useLayoutEffect)(function(){return v(t.current,{domOnly:!0}),tt.current=!0,function(){w().removeEventListener("selectionchange",l);s().cancelAnimationFrame(si.current);s().clearTimeout(wt.current)}},[]),ar=Object(f.pickBy)(st,function(n,t){return Object(f.startsWith)(t,"aria-")}),hi=c({role:"textbox","aria-multiline":!0,"aria-label":dt},ar,{ref:i,style:ai?c({},ai,{whiteSpace:"pre-wrap"}):ee,className:ne()("rich-text",pr),onPaste:function(n){var r,u,h;if(p){var o=n.clipboardData,s=o.items,i=o.files;s=Object(f.isNil)(s)?[]:s;i=Object(f.isNil)(i)?[]:i;r="";u="";try{r=o.getData("text/plain");u=o.getData("text/html")}catch(n){try{u=o.getData("Text")}catch(n){return}}(n.preventDefault(),window.console.log("Received HTML:\n\n",u),window.console.log("Received plain text:\n\n",r),pt)?e(nt(t.current,r)):(h=yt.reduce(function(n,i){var f=i.__unstablePasteRule;return f&&n===t.current&&(n=f(t.current,{html:u,plainText:r})),n},t.current),h===t.current?vi&&(i=Array.from(i),Array.from(s).forEach(function(n){var t;if(n.getAsFile&&(t=n.getAsFile(),t)){var r=t.name,u=t.type,e=t.size;Object(f.find)(i,{name:r,type:u,size:e})||i.push(t)}}),vi({value:ri(t.current),onChange:e,html:u,plainText:r,files:i,activeFormats:ii})):e(h))}else n.preventDefault()},onInput:oi,onCompositionStart:function(){at.current=!0;w().removeEventListener("selectionchange",l)},onCompositionEnd:function(){at.current=!1;oi({inputType:"insertText"});w().addEventListener("selectionchange",l)},onKeyDown:function(n){n.defaultPrevented||(function(n){var r=n.keyCode;if(r===h.DELETE||r===h.BACKSPACE||r===h.ESCAPE){if(kr)return n.preventDefault(),void nu();if(r!==h.ESCAPE){var f,t=ct(),s=t.start,u=t.end,c=t.text,i=r===h.BACKSPACE;if(0===s&&0!==u&&u===c.length)return e(lt(t)),void n.preventDefault();if(o&&(f=i&&0===t.start&&0===t.end&&ei(t)?vt(t,!i):vt(t,i)))return e(f),void n.preventDefault();wi&&g(t)&&!ii.length&&(!i||0===s)&&(i||u===c.length)&&(wi({isReverse:i,value:t}),n.preventDefault())}}}(n),function(n){n.keyCode===h.ENTER&&(n.preventDefault(),ki&&ki({value:ri(ct()),onChange:e,shiftKey:n.shiftKey}))}(n),function(n){var u=n.keyCode,f=n.shiftKey,s=n.altKey,c=n.metaKey,l=n.ctrlKey,t,i;f||s||c||l||u!==h.SPACE||"li"!==o||(t=ct(),g(t)&&(i=t.text[t.start-1],i&&i!==r||(e(tr(t,{type:ti})),n.preventDefault())))}(n),function(n){var b=n.keyCode,et=n.shiftKey,st=n.altKey,ht=n.metaKey,ct=n.ctrlKey,p,w;if(!(et||st||ht||ct||b!==h.LEFT&&b!==h.RIGHT)){var l=t.current,lt=l.text,nt=l.formats,a=l.start,at=l.end,tt=l.activeFormats,u=void 0===tt?[]:tt,it=g(t.current),vt="rtl"===s().getComputedStyle(i.current).direction?h.RIGHT:h.LEFT,r=n.keyCode===vt;if(it&&0===u.length){if(0===a&&r)return;if(at===lt.length&&!r)return}if(it){n.preventDefault();var f=nt[a-1]||k,e=nt[a]||k,o=u.length,rt=e;if(f.length>e.length&&(rt=f),f.length<e.length?(!r&&u.length<e.length&&o++,r&&u.length>f.length&&o--):f.length>e.length&&(!r&&u.length>e.length&&o--,r&&u.length<f.length&&o++),o!==u.length)return p=rt.slice(0,o),w=c({},t.current,{activeFormats:p}),t.current=w,v(w),void d(p);var y=a+(r?-1:1),ut=r?f:e,ft=c({},t.current,{start:y,end:y,activeFormats:ut});t.current=ft;v(ft);ot(y,y);d(ut)}}}(n))},onFocus:function(){di&&di();p?(ot(t.current.start,t.current.end),d(rt(c({},t.current,{activeFormats:void 0}),k))):(t.current=c({},t.current,{start:void 0,end:void 0,activeFormats:k}),ot(void 0,void 0),d(k));si.current=s().requestAnimationFrame(l);w().addEventListener("selectionchange",l);gi&&(ie()("wp.blockEditor.RichText setFocusedElement prop",{alternative:"selection state from the block editor store."}),gi(br))},onBlur:function(){w().removeEventListener("selectionchange",l)},onMouseDown:sr,onTouchStart:sr,onKeyUp:l,onMouseUp:l,onTouchEnd:l,contentEditable:!gt||void 0,suppressContentEditableWarning:!gt}),function(n){var t=n.activeFormats,i=n.ref;Object(u.useEffect)(function(){var r;if(t&&t.length&&(r=i.current.querySelector("*[data-rich-text-format-boundary]"),r)){var u=r.ownerDocument,e=u.defaultView.getComputedStyle(r).color.replace(")",", 0.2)").replace("rgb","rgba"),o=".rich-text:focus ".concat("*[data-rich-text-format-boundary]"),s="background-color: ".concat(e),f="".concat(o," {").concat(s,"}"),n=u.getElementById("rich-text-boundary-style");n||((n=u.createElement("style")).id="rich-text-boundary-style",u.head.appendChild(n));n.innerHTML!==f&&(n.innerHTML=f)}},[t])}({ref:i,activeFormats:ii}),function(n){n.ref;Object(u.useEffect)(function(){},[])}({ref:i}),Object(u.createElement)(u.Fragment,null,p&&Object(u.createElement)(er,{allowedFormats:vr,withoutInteractiveFormatting:yr,value:t.current,onChange:e,onFocus:lr,formatTypes:yt}),kt&&kt({isSelected:p,value:t.current,onChange:e,onFocus:lr,editableProps:hi,editableTagName:ut}),!kt&&Object(u.createElement)(ut,hi))},function(n){var i=n.clientId,r=n.identifier,t=Object(o.useSelect)(ue,[]),s=Object(o.useSelect)(function(n){return t.reduce(function(t,u){if(!u.__experimentalGetPropsForEditableTreePreparation)return t;var e="format_prepare_props_(".concat(u.name,")_");return tt({},t,{},Object(f.mapKeys)(u.__experimentalGetPropsForEditableTreePreparation(n,{richTextIdentifier:r,blockClientId:i}),function(n,t){return e+t}))},{})},[t,i,r]),h=Object(o.__unstableUseDispatchWithMap)(function(n){return t.reduce(function(t,u){if(!u.__experimentalGetPropsForEditableTreeChangeHandler)return t;var e="format_on_change_props_(".concat(u.name,")_");return tt({},t,{},Object(f.mapKeys)(u.__experimentalGetPropsForEditableTreeChangeHandler(n,{richTextIdentifier:r,blockClientId:i}),function(n,t){return e+t}))},{})},[t,i,r]),c=Object(u.useMemo)(function(){return t.reduce(function(n,t){if(!t.__experimentalCreatePrepareEditableTree)return n;var f,o={richTextIdentifier:r,blockClientId:i},c=tt({},s,{},h),u=t.name,a="format_prepare_props_(".concat(u,")_"),v="format_on_change_props_(".concat(u,")_"),l=Object.keys(c).reduce(function(n,t){return t.startsWith(a)&&(n[t.slice(a.length)]=c[t]),t.startsWith(v)&&(n[t.slice(v.length)]=c[t]),n},{});return t.__experimentalCreateOnChangeEditableValue?tt({},n,(f={},Object(e.a)(f,"format_value_functions_(".concat(u,")"),t.__experimentalCreatePrepareEditableTree(l,o)),Object(e.a)(f,"format_on_change_functions_(".concat(u,")"),t.__experimentalCreateOnChangeEditableValue(l,o)),f)):tt({},n,Object(e.a)({},"format_prepare_functions_(".concat(u,")"),t.__experimentalCreatePrepareEditableTree(l,o)))},{})},[t,i,r,s,h]);return Object(u.createElement)(cr,Object(fr.a)({},n,s,c,{formatTypes:t}))});ar=Object(u.forwardRef)(function(n,t){return Object(u.createElement)(lr,Object(fr.a)({},n,{forwardedRef:t}))})},5:function(n,t,i){"use strict";function r(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}i.d(t,"a",function(){return r})},8:function(n,t,i){"use strict";function r(){return(r=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n}).apply(this,arguments)}i.d(t,"a",function(){return r})},89:function(n){!function(){n.exports=this.wp.escapeHtml}()}})
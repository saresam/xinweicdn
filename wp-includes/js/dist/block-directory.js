this.wp=this.wp||{};this.wp.blockDirectory=function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((i&1&&(n=t(n)),i&8)||i&4&&typeof n=="object"&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=443)}({0:function(n){(function(){n.exports=this.wp.element})()},1:function(n){(function(){n.exports=this.wp.i18n})()},10:function(n){(function(){n.exports=this.wp.blocks})()},100:function(n){(function(){n.exports=this.wp.notices})()},137:function(n,t,i){"use strict";function u(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function o(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?u(Object(i),!0).forEach(function(t){Object(f.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function s(n){var u=n.icon,t=n.size,i=t===void 0?24:t,f=Object(e.a)(n,["icon","size"]);return Object(r.cloneElement)(u,o({width:i,height:i},f))}var f=i(5),e=i(15),r=i(0),h=i.n(r);t.a=s},14:function(n,t,i){"use strict";function e(n,t){var i,o;if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n)){var r=[],u=!0,f=!1,e=undefined;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{u||i["return"]==null||i["return"]()}finally{if(f)throw e;}}return r}}function o(n,t){return Object(r.a)(n)||e(n,t)||Object(u.a)(n,t)||Object(f.a)()}var r,u,f;i.d(t,"a",function(){return o});r=i(38);u=i(29);f=i(39)},15:function(n,t,i){"use strict";function u(n,t){var f,i,u,e;if(n==null)return{};if(f=Object(r.a)(n,t),Object.getOwnPropertySymbols)for(e=Object.getOwnPropertySymbols(n),u=0;u<e.length;u++)(i=e[u],t.indexOf(i)>=0)||Object.prototype.propertyIsEnumerable.call(n,i)&&(f[i]=n[i]);return f}i.d(t,"a",function(){return u});var r=i(41)},18:function(n,t,i){"use strict";function e(n){if(Array.isArray(n))return Object(r.a)(n)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function s(n){return e(n)||Object(u.a)(n)||Object(f.a)(n)||o()}var r,u,f;i.d(t,"a",function(){return s});r=i(26);u=i(35);f=i(29)},2:function(n){(function(){n.exports=this.lodash})()},24:function(n){(function(){n.exports=this.regeneratorRuntime})()},26:function(n,t,i){"use strict";function r(n,t){(t==null||t>n.length)&&(t=n.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=n[i];return r}i.d(t,"a",function(){return r})},262:function(n){(function(){n.exports=this.wp.editPost})()},285:function(n,t,i){"use strict";var r=i(0),e=i.n(r),u=i(6),o=i.n(u),f=Object(r.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(u.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));t.a=f},286:function(n,t,i){"use strict";var r=i(0),e=i.n(r),u=i(6),o=i.n(u),f=Object(r.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(u.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));t.a=f},29:function(n,t,i){"use strict";function u(n,t){if(n){if(typeof n=="string")return Object(r.a)(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);return(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(r.a)(n,t):void 0}}i.d(t,"a",function(){return u});var r=i(26)},3:function(n){(function(){n.exports=this.wp.components})()},35:function(n,t,i){"use strict";function r(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}i.d(t,"a",function(){return r})},36:function(n){(function(){n.exports=this.wp.dataControls})()},38:function(n,t,i){"use strict";function r(n){if(Array.isArray(n))return n}i.d(t,"a",function(){return r})},39:function(n,t,i){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}i.d(t,"a",function(){return r})},4:function(n){(function(){n.exports=this.wp.data})()},41:function(n,t,i){"use strict";function r(n,t){if(n==null)return{};for(var u={},f=Object.keys(n),i,r=0;r<f.length;r++)(i=f[r],t.indexOf(i)>=0)||(u[i]=n[i]);return u}i.d(t,"a",function(){return r})},443:function(n,t,i){"use strict";function nt(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function a(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?nt(Object(i),!0).forEach(function(t){Object(l.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function w(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i;if(!t.length)return!1;if(t.some(function(t){var i=t.name;return i===n.name}))return!0;for(i=0;i<t.length;i++)if(w(n,t[i].innerBlocks))return!0;return!1}function si(n,t){return!n.downloadableBlocks[t]||!n.downloadableBlocks[t].isRequesting?!1:n.downloadableBlocks[t].isRequesting}function hi(n,t){return!n.downloadableBlocks[t]||!n.downloadableBlocks[t].results?[]:n.downloadableBlocks[t].results}function b(n){return n.blockManagement.installedBlockTypes}function ci(n,t){return n.blockManagement.isInstalling[t]||!1}function li(n){return n.errorNotices}function ai(n,t){return n.errorNotices[t]}function ki(n){return{type:"LOAD_ASSETS",assets:n}}function k(n){if(!n)return!1;var t=n.links["wp:plugin"]||n.links.self;return t&&t.length?t[0].href:!1}function ot(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function st(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?ot(Object(i),!0).forEach(function(t){Object(l.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ot(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function ht(n){return{type:"FETCH_DOWNLOADABLE_BLOCKS",filterValue:n}}function ct(n,t){return{type:"RECEIVE_DOWNLOADABLE_BLOCKS",downloadableBlocks:n,filterValue:t}}function lt(n){var t,a,i,r,f,v,e,o,c,l;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=n.id,a=n.assets,i=!1,s.next=4,wt(t);case 4:return s.prev=4,s.next=7,d(n.id,!0);case 7:if(r=k(n),f={},!r){s.next=14;break}return s.next=12,Object(h.apiFetch)({url:r,data:{status:"active"},method:"PUT"});case 12:s.next=18;break;case 14:return s.next=16,Object(h.apiFetch)({path:"wp/v2/plugins",data:{slug:n.id,status:"active"},method:"POST"});case 16:v=s.sent;f=v._links;case 18:return s.next=20,vt(st({},n,{links:st({},n.links,{},f)}));case 20:return s.next=22,ki(a);case 22:return s.next=24,Object(h.select)("core/blocks","getBlockTypes");case 24:if(e=s.sent,!(!e.length||!e.filter(function(t){return t.name===n.name}).length)){s.next=27;break}throw new Error(Object(u.__)("Error registering block. Try reloading the page."));case 27:i=!0;s.next=38;break;case 30:return s.prev=30,s.t0=s["catch"](4),o=s.t0.message||Object(u.__)("An error occurred."),c=s.t0 instanceof Error,l={folder_exists:Object(u.__)("This block is already installed. Try reloading the page."),unable_to_connect_to_filesystem:Object(u.__)("Error installing block. You can reload the page and try again.")},l[s.t0.code]&&(c=!0,o=l[s.t0.code]),s.next=38,pt(t,o,c);case 38:return s.next=40,d(n.id,!1);case 40:return s.abrupt("return",i);case 41:case"end":return s.stop()}},ft,null,[[4,30]])}function at(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(h.apiFetch)({url:k(n),data:{status:"inactive"},method:"PUT"});case 3:return t.next=5,Object(h.apiFetch)({url:k(n),method:"DELETE"});case 5:return t.next=7,yt(n);case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t["catch"](0),t.next=13,Object(h.dispatch)("core/notices","createErrorNotice",t.t0.message||Object(u.__)("An error occurred."));case 13:case"end":return t.stop()}},et,null,[[0,9]])}function vt(n){return{type:"ADD_INSTALLED_BLOCK_TYPE",item:n}}function yt(n){return{type:"REMOVE_INSTALLED_BLOCK_TYPE",item:n}}function d(n,t){return{type:"SET_INSTALLING_BLOCK",blockId:n,isInstalling:t}}function pt(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;return{type:"SET_ERROR_NOTICE",blockId:n,message:t,isFatal:i}}function wt(n){return{type:"CLEAR_ERROR_NOTICE",blockId:n}}function kt(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function gi(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?kt(Object(i),!0).forEach(function(t){Object(l.a)(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):kt(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function ur(){var i=Object(e.useDispatch)("core/block-directory"),u=i.uninstallBlockType,n=Object(e.useSelect)(function(n){var t=n("core/editor"),i=t.isAutosavingPost,r=t.isSavingPost;return r()&&!i()},[]),t=Object(e.useSelect)(function(n){return n("core/block-directory").getUnusedBlockTypes()},[]);return Object(r.useEffect)(function(){n&&t.length&&t.forEach(function(n){u(n);Object(rr.unregisterBlockType)(n.name)})},[n]),null}function or(n){var f=n.author,t=n.authorBlockCount,i=n.authorBlockRating;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"block-directory-downloadable-block-author-info__content-author"},Object(u.sprintf)(Object(u.__)("Authored by %s"),f)),Object(r.createElement)("span",{className:"block-directory-downloadable-block-author-info__content"},i>0?Object(u.sprintf)(Object(u._n)("This author has %1$d block, with an average rating of %2$d.","This author has %1$d blocks, with an average rating of %2$d.",t),t,i):Object(u.sprintf)(Object(u._n)("This author has %1$d block.","This author has %1$d blocks.",t),t)))}function vr(n){var t=n.rating,e=Math.round(t/.5)*.5,i=Math.floor(t),f=Math.ceil(t-i),o=5-(i+f);return Object(r.createElement)("div",{"aria-label":Object(u.sprintf)(Object(u.__)("%s out of 5 stars"),e)},Object(c.times)(i,function(n){return Object(r.createElement)(p.a,{key:"full_stars_".concat(n),icon:hr.a,size:16})}),Object(c.times)(f,function(n){return Object(r.createElement)(p.a,{key:"half_stars_".concat(n),icon:lr,size:16})}),Object(c.times)(o,function(n){return Object(r.createElement)(p.a,{key:"empty_stars_".concat(n),icon:ar.a,size:16})}))}function br(n){var t=n.icon,i=n.title;return Object(r.createElement)("div",{className:"block-directory-downloadable-block-icon"},t.match(/\.(jpeg|jpg|gif|png|svg)(?:\?.*)?$/)!==null?Object(r.createElement)("img",{src:t,alt:Object(u.sprintf)(Object(u.__)("%s block icon"),i)}):Object(r.createElement)(dt.BlockIcon,{icon:t,showColors:!0}))}function kr(n){var s=n.icon,i=n.title,h=n.rating,c=n.ratingCount,f=n.isLoading,t=f===void 0?!1:f,e=n.isInstallable,o=e===void 0?!0:e,l=n.onClick;return Object(r.createElement)("div",{className:"block-directory-downloadable-block-header__row"},Object(r.createElement)(g,{icon:s,title:i}),Object(r.createElement)("div",{className:"block-directory-downloadable-block-header__column"},Object(r.createElement)("h2",{className:"block-directory-downloadable-block-header__title"},i),Object(r.createElement)(wr,{rating:h,ratingCount:c})),Object(r.createElement)(y.Button,{isSecondary:!0,isBusy:t,disabled:t||!o,onClick:function(n){n.preventDefault();!t&&o&&l()}},t?Object(u.__)("Adding…"):Object(u.__)("Add block")))}function ru(n){var i=n.description,t=n.activeInstalls,f=n.humanizedUpdated;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",{className:"block-directory-downloadable-block-info__content"},i),Object(r.createElement)("div",{className:"block-directory-downloadable-block-info__meta"},Object(r.createElement)(p.a,{className:"block-directory-downloadable-block-info__icon",icon:nu}),Object(u.sprintf)(Object(u._n)("%d active installation","%d active installations",t),t)),Object(r.createElement)("div",{className:"block-directory-downloadable-block-info__meta"},Object(r.createElement)(p.a,{className:"block-directory-downloadable-block-info__icon",icon:iu}),Object(u.sprintf)(Object(u.__)("Updated %s"),f)))}function ou(n){var t=n.item,i=n.onClick,u=Object(e.useSelect)(function(n){var i=n("core/block-directory"),u=i.isInstalling,f=i.getErrorNoticeForBlock,r=f(t.id),e=r&&r.isFatal;return{isLoading:u(t.id),isInstallable:!e}},[t]),f=u.isLoading,o=u.isInstallable,s=t.icon,h=t.title,c=t.description,l=t.rating,a=t.activeInstalls,v=t.ratingCount,y=t.author,p=t.humanizedUpdated,w=t.authorBlockCount,b=t.authorBlockRating;return Object(r.createElement)("li",{className:"block-directory-downloadable-block-list-item"},Object(r.createElement)("article",{className:"block-directory-downloadable-block-list-item__panel"},Object(r.createElement)("header",{className:"block-directory-downloadable-block-list-item__header"},Object(r.createElement)(dr,{icon:s,onClick:i,title:h,rating:l,ratingCount:v,isLoading:f,isInstallable:o})),Object(r.createElement)("section",{className:"block-directory-downloadable-block-list-item__body"},Object(r.createElement)(eu,{onClick:i,block:t}),Object(r.createElement)(uu,{activeInstalls:a,description:c,humanizedUpdated:p})),Object(r.createElement)("footer",{className:"block-directory-downloadable-block-list-item__footer"},Object(r.createElement)(sr,{author:y,authorBlockCount:w,authorBlockRating:b}))))}function su(n){var t=n.items,i=n.onHover,u=i===void 0?c.noop:i,f=n.onSelect,o=Object(e.useDispatch)("core/block-directory"),s=o.installBlockType;return t.length?Object(r.createElement)("ul",{role:"list",className:"block-directory-downloadable-blocks-list"},t.map(function(n){return Object(r.createElement)(ou,{key:n.id,onClick:function(){s(n).then(function(t){t&&f(n)});u(null)},item:n})})):null}function hu(n){var t=n.downloadableItems,o=n.onSelect,s=n.onHover,i=n.hasPermission,h=n.isLoading,c=n.isWaiting,f=n.debouncedSpeak,e;return!1===i?(f(Object(u.__)("No blocks found in your library.")),Object(r.createElement)("p",{className:"block-directory-downloadable-blocks-panel__description has-no-results"},Object(u.__)("No blocks found in your library."))):typeof i=="undefined"||h||c?Object(r.createElement)("p",{className:"block-directory-downloadable-blocks-panel__description has-no-results"},Object(r.createElement)(y.Spinner,null)):t.length?(e=Object(u.sprintf)(Object(u._n)("No blocks found in your library. We did find %d block available for download.","No blocks found in your library. We did find %d blocks available for download.",t.length),t.length),f(e),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",{className:"block-directory-downloadable-blocks-panel__description"},Object(u.__)("No blocks found in your library. These blocks can be downloaded and installed:")),Object(r.createElement)(gt,{items:t,onSelect:o,onHover:s}))):Object(r.createElement)("p",{className:"block-directory-downloadable-blocks-panel__description has-no-results"},Object(u.__)("No blocks found in your library."))}function cu(){var i=Object(r.useState)(""),t=Object(fr.a)(i,2),n=t[0],u=t[1],f=Object(c.debounce)(u,400);return Object(r.createElement)(dt.__experimentalInserterMenuExtension,null,function(t){var u=t.onSelect,e=t.onHover,i=t.filterValue,o=t.hasItems;return o||!i?null:(n!==i&&f(i),Object(r.createElement)(ni,{onSelect:u,onHover:e,filterValue:n,isWaiting:i!==n}))})}function lu(n){var t=n.items;return t.length?Object(r.createElement)("ul",{className:"block-directory-compact-list"},t.map(function(n){var i=n.icon,f=n.id,t=n.title,e=n.author;return Object(r.createElement)("li",{key:f,className:"block-directory-compact-list__item"},Object(r.createElement)(g,{icon:i,title:t}),Object(r.createElement)("div",{className:"block-directory-compact-list__item-details"},Object(r.createElement)("div",{className:"block-directory-compact-list__item-title"},t),Object(r.createElement)("div",{className:"block-directory-compact-list__item-author"},Object(u.sprintf)(Object(u.__)("By %s"),e))))})):null}function au(){var n=Object(e.useSelect)(function(n){return n("core/block-directory").getNewBlockTypes()},[]);return n.length?Object(r.createElement)(ii.PluginPrePublishPanel,{icon:"block-default",title:Object(u.sprintf)(Object(u._n)("Added: %d block","Added: %d blocks",n.length),n.length),initialOpen:!0},Object(r.createElement)("p",{className:"installed-blocks-pre-publish-panel__copy"},Object(u._n)("The following block has been added to your site.","The following blocks have been added to your site.",n.length)),Object(r.createElement)(lu,{items:n})):null}var o,f,tt,it,rt,ut,ft,et,bt,g,gt,ni,ti,ii;i.r(t);o={};i.r(o);i.d(o,"isRequestingDownloadableBlocks",function(){return si});i.d(o,"getDownloadableBlocks",function(){return hi});i.d(o,"getInstalledBlockTypes",function(){return b});i.d(o,"getNewBlockTypes",function(){return tt});i.d(o,"getUnusedBlockTypes",function(){return it});i.d(o,"isInstalling",function(){return ci});i.d(o,"getErrorNotices",function(){return li});i.d(o,"getErrorNoticeForBlock",function(){return ai});f={};i.r(f);i.d(f,"fetchDownloadableBlocks",function(){return ht});i.d(f,"receiveDownloadableBlocks",function(){return ct});i.d(f,"installBlockType",function(){return lt});i.d(f,"uninstallBlockType",function(){return at});i.d(f,"addInstalledBlockType",function(){return vt});i.d(f,"removeInstalledBlockType",function(){return yt});i.d(f,"setIsInstalling",function(){return d});i.d(f,"setErrorNotice",function(){return pt});i.d(f,"clearErrorNotice",function(){return wt});var vu=i(100),l=i(5),e=i(4),h=i(36),ri=i(18),c=i(2);var ui=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1?arguments[1]:undefined;switch(n.type){case"FETCH_DOWNLOADABLE_BLOCKS":return a({},t,Object(l.a)({},n.filterValue,{isRequesting:!0}));case"RECEIVE_DOWNLOADABLE_BLOCKS":return a({},t,Object(l.a)({},n.filterValue,{results:n.downloadableBlocks,isRequesting:!1}))}return t},fi=function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{installedBlockTypes:[],isInstalling:{}},t=arguments.length>1?arguments[1]:undefined;switch(t.type){case"ADD_INSTALLED_BLOCK_TYPE":return a({},n,{installedBlockTypes:[].concat(Object(ri.a)(n.installedBlockTypes),[t.item])});case"REMOVE_INSTALLED_BLOCK_TYPE":return a({},n,{installedBlockTypes:n.installedBlockTypes.filter(function(n){return n.name!==t.item.name})});case"SET_INSTALLING_BLOCK":return a({},n,{isInstalling:a({},n.isInstalling,Object(l.a)({},t.blockId,t.isInstalling))})}return n},ei=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1?arguments[1]:undefined;switch(n.type){case"SET_ERROR_NOTICE":return a({},t,Object(l.a)({},n.blockId,{message:n.message,isFatal:n.isFatal}));case"CLEAR_ERROR_NOTICE":return Object(c.omit)(t,n.blockId)}return t},oi=Object(e.combineReducers)({downloadableBlocks:ui,blockManagement:fi,errorNotices:ei});tt=Object(e.createRegistrySelector)(function(n){return function(t){var r=n("core/block-editor").getBlocks(),u=b(t),i=[];return u.forEach(function(n){w(n,r)&&i.push(n)}),i}});it=Object(e.createRegistrySelector)(function(n){return function(t){var r=n("core/block-editor").getBlocks(),u=b(t),i=[];return u.forEach(function(n){w(n,r)||i.push(n)}),i}});var vi=i(24),s=i.n(vi),u=i(1),yi=i(50),pi=i(45),wi=i.n(pi),bi=function(n){return new Promise(function(t,i){var r=document.createElement(n.nodeName);["id","rel","src","href","type"].forEach(function(t){n[t]&&(r[t]=n[t])});n.innerHTML&&r.appendChild(document.createTextNode(n.innerHTML));r.onload=function(){return t(!0)};r.onerror=function(){return i(new Error("Error loading asset."))};document.body.appendChild(r);"link"!==r.nodeName.toLowerCase()&&("script"!==r.nodeName.toLowerCase()||r.src)||t()})};rt={LOAD_ASSETS:function(){return wi()({url:document.location.href,parse:!1}).then(function(n){return n.text()}).then(function(n){var i=(new window.DOMParser).parseFromString(n,"text/html"),t=Array.from(i.querySelectorAll('link[rel="stylesheet"],script')).filter(function(n){return n.id&&!document.getElementById(n.id)});return new Promise(function(){var n=Object(yi.a)(s.a.mark(function i(n,r){var u;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=s.a.keys(t);case 1:if((i.t1=i.t0()).done){i.next=13;break}return u=i.t1.value,i.prev=3,i.next=6,bi(t[u]);case 6:i.next=11;break;case 8:i.prev=8;i.t2=i["catch"](3);r(i.t2);case 11:i.next=1;break;case 13:n();case 14:case"end":return i.stop()}},i,null,[[3,8]])}));return function(){return n.apply(this,arguments)}}())})}};ut=rt;ft=s.a.mark(lt);et=s.a.mark(at);bt={getDownloadableBlocks:s.a.mark(function di(n){var t,i;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,ht(n);case 5:return r.next=7,Object(h.apiFetch)({path:"wp/v2/block-directory/search?term=".concat(n)});case 7:return t=r.sent,i=t.map(function(n){return Object(c.mapKeys)(n,function(n,t){return Object(c.camelCase)(t)})}),r.next=11,ct(i,n);case 11:r.next=15;break;case 13:r.prev=13;r.t0=r["catch"](2);case 15:case"end":return r.stop()}},di,null,[[2,13]])})};var nr={reducer:oi,selectors:o,actions:f,controls:gi({},h.controls,{},ut),resolvers:bt},tr=Object(e.registerStore)("core/block-directory",nr),ku=tr,r=i(0),ir=i(76),rr=i(10);var fr=i(14),dt=i(7),er=i(9),y=i(3);var sr=or,p=i(137),hr=i(285),v=i(6),cr=Object(r.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(v.Path,{d:"M9.518 8.783a.25.25 0 00.188-.137l2.069-4.192a.25.25 0 01.448 0l2.07 4.192a.25.25 0 00.187.137l4.626.672a.25.25 0 01.139.427l-3.347 3.262a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.363.264l-4.137-2.176a.25.25 0 00-.233 0l-4.138 2.175a.25.25 0 01-.362-.263l.79-4.607a.25.25 0 00-.072-.222L4.753 9.882a.25.25 0 01.14-.427l4.625-.672zM12 14.533c.28 0 .559.067.814.2l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39v7.143z"})),lr=cr,ar=i(286);var yr=vr,pr=function(n){var i=n.rating,t=n.ratingCount;return Object(r.createElement)("div",{className:"block-directory-block-ratings"},Object(r.createElement)(yr,{rating:i}),Object(r.createElement)("span",{className:"block-directory-block-ratings__rating-count","aria-label":Object(u.sprintf)(Object(u._n)("%d total rating","%d total ratings",t),t)},"(",t,")"))},wr=pr;g=br;var dr=kr,gr=Object(r.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(r.createElement)(v.Path,{d:"M18 3.5c0 .62-.38 1.16-.92 1.38v13.11H1.99l4.22-6.73c-.13-.23-.21-.48-.21-.76C6 9.67 6.67 9 7.5 9S9 9.67 9 10.5c0 .13-.02.25-.05.37l1.44.63c.27-.3.67-.5 1.11-.5.18 0 .35.04.51.09l3.58-6.41c-.36-.27-.59-.7-.59-1.18 0-.83.67-1.5 1.5-1.5.19 0 .36.04.53.1l.05-.09v.11c.54.22.92.76.92 1.38zm-1.92 13.49V5.85l-3.29 5.89c.13.23.21.48.21.76 0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5l.01-.07-1.63-.72c-.25.18-.55.29-.88.29-.18 0-.35-.04-.51-.1l-3.2 5.09h12.29z"})),nu=gr,tu=Object(r.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(r.createElement)(v.Path,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"})),iu=tu;var uu=ru,fu=function(n){var i=n.block,f=n.onClick,t=Object(e.useSelect)(function(n){return n("core/block-directory").getErrorNoticeForBlock(i.id)},[i]);return t?Object(r.createElement)(y.Notice,{status:"error",isDismissible:!1,className:"block-directory-downloadable-block-notice"},Object(r.createElement)("div",{className:"block-directory-downloadable-block-notice__content"},t.message),Object(r.createElement)(y.Button,{isSmall:!0,isPrimary:!0,onClick:function(){if(t.isFatal)return window.location.reload(),!1;f(i)}},t.isFatal?Object(u.__)("Reload"):Object(u.__)("Retry"))):null},eu=fu;gt=su;ni=Object(er.compose)([y.withSpokenMessages,Object(e.withSelect)(function(n,t){var i=t.filterValue,r=n("core/block-directory"),f=r.getDownloadableBlocks,e=r.isRequestingDownloadableBlocks,u=n("core").canUser("read","block-directory/search"),o=u?f(i):[],s=e(i);return{downloadableItems:o,hasPermission:u,isLoading:s}})])(hu);ti=cu;ii=i(262);Object(ir.registerPlugin)("block-directory",{render:function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ur,null),Object(r.createElement)(ti,null),Object(r.createElement)(au,null))}})},45:function(n){(function(){n.exports=this.wp.apiFetch})()},5:function(n,t,i){"use strict";function r(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}i.d(t,"a",function(){return r})},50:function(n,t,i){"use strict";function r(n,t,i,r,u,f,e){try{var o=n[f](e),s=o.value}catch(h){i(h);return}o.done?t(s):Promise.resolve(s).then(r,u)}function u(n){return function(){var t=this,i=arguments;return new Promise(function(u,f){function e(n){r(o,u,f,e,s,"next",n)}function s(n){r(o,u,f,e,s,"throw",n)}var o=n.apply(t,i);e(undefined)})}}i.d(t,"a",function(){return u})},6:function(n){(function(){n.exports=this.wp.primitives})()},7:function(n){(function(){n.exports=this.wp.blockEditor})()},76:function(n){(function(){n.exports=this.wp.plugins})()},9:function(n){(function(){n.exports=this.wp.compose})()}})
function grin(n){var t;if(n=" "+n+" ",document.getElementById("comment")&&document.getElementById("comment").type=="textarea")t=document.getElementById("comment");else return!1;if(document.selection)t.focus(),sel=document.selection.createRange(),sel.text=n,t.focus();else if(t.selectionStart||t.selectionStart=="0"){var u=t.selectionStart,r=t.selectionEnd,i=r;t.value=t.value.substring(0,u)+n+t.value.substring(r,t.value.length);i+=n.length;t.focus();t.selectionStart=i;t.selectionEnd=i}else t.value+=n,t.focus()}var baguetteBox=function(){function ft(n,t){l.transforms=at();l.svg=vt();et();ut=document.querySelectorAll(n);[].forEach.call(ut,function(n){var i,r;t&&t.filter&&(rt=t.filter);i=n.getElementsByTagName("a");i=[].filter.call(i,function(n){return rt.test(n.href)});r=e.length;e.push(i);e[r].options=t;[].forEach.call(e[r],function(n,t){f(n,"click",function(n){n.preventDefault?n.preventDefault():n.returnValue=!1;st(r);ct(t)})})})}function et(){return(i=a("baguetteBox-overlay"))?(t=a("baguetteBox-slider"),o=a("previous-button"),s=a("next-button"),c=a("close-button"),void 0):(i=u("div"),i.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(i),t=u("div"),t.id="baguetteBox-slider",i.appendChild(t),o=u("button"),o.id="previous-button",o.innerHTML=l.svg?yt:"<",i.appendChild(o),s=u("button"),s.id="next-button",s.innerHTML=l.svg?pt:">",i.appendChild(s),c=u("button"),c.id="close-button",c.innerHTML=l.svg?wt:"X",i.appendChild(c),o.className=s.className=c.className="baguetteBox-button",ot(),void 0)}function ot(){f(i,"click",function(n){n.target&&"IMG"!==n.target.nodeName&&"FIGCAPTION"!==n.target.nodeName&&b()});f(o,"click",function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;p()});f(s,"click",function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;y()});f(c,"click",function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;b()});f(i,"touchstart",function(n){tt=n.changedTouches[0].pageX});f(i,"touchmove",function(n){w||(n.preventDefault?n.preventDefault():n.returnValue=!1,touch=n.touches[0]||n.changedTouches[0],touch.pageX-tt>40?(w=!0,p()):touch.pageX-tt<-40&&(w=!0,y()))});f(i,"touchend",function(){w=!1});f(document,"keydown",function(n){switch(n.keyCode){case 37:p();break;case 39:y();break;case 27:b()}})}function st(n){if(v!==n){for(v=n,ht(e[n].options);t.firstChild;)t.removeChild(t.firstChild);h.length=0;for(var i,r=0;r<e[n].length;r++)i=u("div"),i.className="full-image",i.id="baguette-img-"+r,h.push(i),t.appendChild(h[r])}}function ht(i){i||(i={});for(var r in it)n[r]=it[r],"undefined"!=typeof i[r]&&(n[r]=i[r]);t.style.transition=t.style.webkitTransition="fadeIn"===n.animation?"opacity .4s ease":"slideIn"===n.animation?"":"none";"auto"===n.buttons&&("ontouchstart"in window||1===e[v].length)&&(n.buttons=!1);o.style.display=s.style.display=n.buttons?"":"none"}function ct(t){"block"!==i.style.display&&(r=t,k(r,function(){g(r);nt(r)}),d(),i.style.display="block",setTimeout(function(){i.className="visible";n.afterShow&&n.afterShow()},50),n.onChange&&n.onChange(r,h.length))}function b(){"none"!==i.style.display&&(i.className="",setTimeout(function(){i.style.display="none";n.afterHide&&n.afterHide()},500))}function k(t,i){var f=h[t];if("undefined"!=typeof f){if(f.getElementsByTagName("img")[0])return i&&i(),void 0;imageElement=e[v][t];imageCaption="function"==typeof n.captions?n.captions.call(e[v],imageElement):imageElement.getAttribute("data-caption")||imageElement.title;imageSrc=lt(imageElement);var r=u("figure"),o=u("img"),s=u("figcaption");f.appendChild(r);r.innerHTML='<div class="spinner"><div class="double-bounce1"><\/div><div class="double-bounce2"><\/div><\/div>';o.onload=function(){var u=document.querySelector("#baguette-img-"+t+" .spinner");r.removeChild(u);!n.async&&i&&i()};o.setAttribute("src",imageSrc);r.appendChild(o);n.captions&&imageCaption&&(s.innerHTML=imageCaption,r.appendChild(s));n.async&&i&&i()}}function lt(n){var u=imageElement.href,r,t,f,i;if(n.dataset){r=[];for(t in n.dataset)"at-"!==t.substring(0,3)||isNaN(t.substring(3))||(r[t.replace("at-","")]=n.dataset[t]);for(keys=Object.keys(r).sort(function(n,t){return parseInt(n)<parseInt(t)?-1:1}),f=window.innerWidth*window.devicePixelRatio,i=0;i<keys.length-1&&keys[i]<f;)i++;u=r[keys[i]]||u}return u}function y(){var i;return r<=h.length-2?(r++,d(),g(r),i=!0):n.animation&&(t.className="bounce-from-right",setTimeout(function(){t.className=""},400),i=!1),n.onChange&&n.onChange(r,h.length),i}function p(){var i;return r>=1?(r--,d(),nt(r),i=!0):n.animation&&(t.className="bounce-from-left",setTimeout(function(){t.className=""},400),i=!1),n.onChange&&n.onChange(r,h.length),i}function d(){var i=100*-r+"%";"fadeIn"===n.animation?(t.style.opacity=0,setTimeout(function(){l.transforms?t.style.transform=t.style.webkitTransform="translate3d("+i+",0,0)":t.style.left=i;t.style.opacity=1},400)):l.transforms?t.style.transform=t.style.webkitTransform="translate3d("+i+",0,0)":t.style.left=i}function at(){var n=u("div");return"undefined"!=typeof n.style.perspective||"undefined"!=typeof n.style.webkitPerspective}function vt(){var n=u("div");return n.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(n.firstChild&&n.firstChild.namespaceURI)}function g(t){t-r>=n.preload||k(t+1,function(){g(t+1)})}function nt(t){r-t>=n.preload||k(t-1,function(){nt(t-1)})}function f(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent("on"+t,i)}function a(n){return document.getElementById(n)}function u(n){return document.createElement(n)}var i,t,o,s,c,tt,yt='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,.8)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/><\/svg>',pt='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,.8)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/><\/svg>',wt='<svg width="30" height="30"><g stroke="rgba(255,255,255,.8)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/><\/g><\/svg>',n={},it={captions:!0,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null},l={},r=0,v=-1,w=!1,rt=/.+\.(gif|jpe?g|png|webp)/i,ut=[],e=[],h=[];return[].forEach||(Array.prototype.forEach=function(n,t){for(var i=0;i<this.length;i++)n.call(t,this[i],i,this)}),[].filter||(Array.prototype.filter=function(n,t,i,r,u){for(i=this,r=[],u=0;u<i.length;u++)n.call(t,i[u],u,i)&&r.push(i[u]);return r}),{run:ft,showNext:y,showPrevious:p}}(),home=location.href,s=$("#bgvideo")[0],Siren={MN:function(){$(".iconflat").on("click",function(){$("body").toggleClass("navOpen");$("#main-container,#mo-nav,.openNav").toggleClass("open")})},MNH:function(){$("body").hasClass("navOpen")&&($("body").toggleClass("navOpen"),$("#main-container,#mo-nav,.openNav").toggleClass("open"))},splay:function(){$("#video-btn").addClass("video-pause").removeClass("video-play").show();$(".video-stu").css({bottom:"-100px"});$(".focusinfo").css({top:"-999px"});s.play()},spause:function(){$("#video-btn").addClass("video-play").removeClass("video-pause");$(".focusinfo").css({top:"49.3%"});s.pause()},liveplay:function(){s.oncanplay!=undefined&&$(".haslive").length>0&&$(".videolive").length>0&&Siren.splay()},livepause:function(){s.oncanplay!=undefined&&$(".haslive").length>0&&(Siren.spause(),$(".video-stu").css({bottom:"0px"}).html("已暂停 ..."))},addsource:function(){$(".video-stu").html("正在载入视频 ...").css({bottom:"0px"});var n=Poi.movies.name.split(","),t=n[Math.floor(Math.random()*n.length)];$("#bgvideo").attr("src",Poi.movies.url+"/"+t+".mp4");$("#bgvideo").attr("video-name",t)},LV:function(){var n=$("#video-btn");n.on("click",function(){$(this).hasClass("loadvideo")?($(this).addClass("video-pause").removeClass("loadvideo").hide(),Siren.addsource(),s.oncanplay=function(){Siren.splay();$("#video-add").show();n.addClass("videolive");n.addClass("haslive")}):$(this).hasClass("video-pause")?(Siren.spause(),n.removeClass("videolive"),$(".video-stu").css({bottom:"0px"}).html("已暂停 ...")):(Siren.splay(),n.addClass("videolive"));s.onended=function(){$("#bgvideo").attr("src","");$("#video-add").hide();n.addClass("loadvideo").removeClass("video-pause");n.removeClass("videolive");n.removeClass("haslive");$(".focusinfo").css({top:"49.3%"})}});$("#video-add").on("click",function(){Siren.addsource()})},AH:function(){if(Poi.windowheight=="auto"){if($("h1.main-title").length>0){var n=$(window).height();$("#centerbg").css({height:n});$("#bgvideo").css({"min-height":n});$(window).resize(function(){Siren.AH()})}}else $(".headertop").addClass("headertop-bar")},PE:function(){$(".headertop").length>0&&($("h1.main-title").length>0?($(".blank").css({"padding-top":"0px"}),$(".headertop").css({height:"auto"}).show(),Poi.movies.live=="open"&&Siren.liveplay()):($(".blank").css({"padding-top":"80px"}),$(".headertop").css({height:"0px"}).hide(),Siren.livepause()))},CE:function(){$(".comments-hidden").show();$(".comments-main").hide();$(".comments-hidden").click(function(){$(".comments-main").slideDown(500);$(".comments-hidden").hide()});$(".archives").hide();$(".archives:first").show();$("#archives-temp h3").click(function(){return $(this).next().slideToggle("fast"),!1});baguetteBox.run(".entry-content",{captions:function(n){return n.getElementsByTagName("img")[0].alt}});$(".js-toggle-search").on("click",function(){$(".js-toggle-search").toggleClass("is-active");$(".js-search").toggleClass("is-visible")});$(".search_close").on("click",function(){$(".js-search").hasClass("is-visible")&&($(".js-toggle-search").toggleClass("is-active"),$(".js-search").toggleClass("is-visible"))});$("#show-nav").on("click",function(){$("#show-nav").hasClass("showNav")?($("#show-nav").removeClass("showNav").addClass("hideNav"),$(".site-top .lower nav").addClass("navbar"),console.log("%c 打开菜单 %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","http://skyarea.cn")):($("#show-nav").removeClass("hideNav").addClass("showNav"),$(".site-top .lower nav").removeClass("navbar"),console.log("%c 关闭菜单 %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","http://skyarea.cn"))});$("#loading").click(function(){console.log("%c 过渡动画 %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","http://skyarea.cn");$("#loading").fadeOut(800)});$(".smli-button").on("click",function(){$(".smilies-box").fadeToggle("slow")});$("#weixin").click(function(){$("#qrcode-open").addClass("demo-open");$("#black_mask").addClass("add_mask");$("#qrcode img").remove();var n=new QRCode("qrcode",{text:home,colorDark:"rgb(85, 85, 85)",colorLight:"#ffffff",width:"130",height:"130",correctLevel:QRCode.CorrectLevel.H})});$("#black_mask").click(function(){$("#qrcode-open").removeClass("demo-open");$("#black_mask").removeClass("add_mask")})},NH:function(){var n=0,i=50,t=$(document).scrollTop();$(window).scroll(function(){var r=$(document).scrollTop();r==n&&$(".site-header").removeClass("yya");r>n&&$(".site-header").addClass("yya");r>i&&($(".site-header").addClass("gizle"),r>t?$(".site-header").removeClass("sabit"):$(".site-header").addClass("sabit"),t=r)})},XLS:function(){$body=window.opera?document.compatMode=="CSS1Compat"?$("html"):$("body"):$("html,body");$("body").on("click","#pagination a",function(){return $(this).addClass("loading").text(""),$.ajax({type:"POST",url:$(this).attr("href")+"#main",success:function(n){result=$(n).find("#main .post");nextHref=$(n).find("#pagination a").attr("href");$("#main").append(result.fadeIn(500));$("#pagination a").removeClass("loading").text("下一页");nextHref!=undefined?$("#pagination a").attr("href",nextHref):$("#pagination").html("<span>别翻了，真的没有了 ...<\/span>")}}),!1})},SFS:function(){$(window).scroll(function(){var t=document.body.scrollHeight||document.documentElement.scrollHeight,i=$(this).height()+1,r=document.body.scrollTop||document.documentElement.scrollTop,u=$("#pagination a").attr("href"),f=document.getElementById("add_post_time"),n;if(r+i>t&&u!=undefined&&f){n=document.getElementById("add_post_time").title;console.log("%c 自动加载时倒计时 %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","http://skyarea.cn",n);$("#add_post span").addClass("loading").text("");setTimeout(function(){e()},n*1e3);function e(){return $("#pagination a").addClass("loading").text(""),$.ajax({type:"POST",url:$("#pagination a").attr("href")+"#main",success:function(n){result=$(n).find("#main .post");nextHref=$(n).find("#pagination a").attr("href");$("#main").append(result.fadeIn(500));$("#pagination a").removeClass("loading").text("下一页");$("#add_post span").removeClass("loading").text("");nextHref!=undefined?$("#pagination a").attr("href",nextHref):$("#pagination").html("<span>别翻了，真的没有了 ...<\/span>")}}),!1}}})},XCS:function(){var t=jQuery("#cancel-comment-reply-link"),i=t.text(),n="commentwrap";jQuery(document).on("submit","#commentform",function(){return jQuery.ajax({url:Poi.ajaxurl,data:jQuery(this).serialize()+"&action=ajax_comment",type:jQuery(this).attr("method"),beforeSend:addComment.createButterbar("让我看看你是不是在说我坏话！"),error:function(n){var t=addComment;t.createButterbar(n.responseText)},success:function(t){jQuery("textarea").each(function(){this.value=""});var i=addComment,u=i.I("cancel-comment-reply-link"),r=i.I("wp-temp-form-div"),f=i.I(i.respondId),o=i.I("comment_post_ID").value,e=i.I("comment_parent").value;e!="0"?jQuery("#respond").before('<ol class="children">'+t+"<\/ol>"):jQuery("."+n).length?Poi.order=="asc"?jQuery("."+n).append(t):jQuery("."+n).prepend(t):Poi.formpostion=="bottom"?jQuery("#respond").before('<ol class="'+n+'">'+t+"<\/ol>"):jQuery("#respond").after('<ol class="'+n+'">'+t+"<\/ol>");i.createButterbar("算了，呈上去了！");u.style.display="none";u.onclick=null;i.I("comment_parent").value="0";r&&f&&(r.parentNode.insertBefore(f,r),r.parentNode.removeChild(r))}}),!1});addComment={moveForm:function(n,r,u){var f=this,e,s=f.I(n),o=f.I(u),h=f.I("cancel-comment-reply-link"),c=f.I("comment_parent"),l=f.I("comment_post_ID");t.text(i);f.respondId=u;f.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",o.parentNode.insertBefore(e,o));s?s.parentNode.insertBefore(o,s.nextSibling):(temp=f.I("wp-temp-form-div"),f.I("comment_parent").value="0",temp.parentNode.insertBefore(o,temp),temp.parentNode.removeChild(temp));jQuery("body").animate({scrollTop:jQuery("#respond").offset().top-180},400);c.value=r;h.style.display="";h.onclick=function(){var t=addComment,n=t.I("wp-temp-form-div"),i=t.I(t.respondId);return t.I("comment_parent").value="0",n&&i&&(n.parentNode.insertBefore(i,n),n.parentNode.removeChild(n)),this.style.display="none",this.onclick=null,!1};try{f.I("comment").focus()}catch(a){}return!1},I:function(n){return document.getElementById(n)},clearButterbar:function(){jQuery(".butterBar").length>0&&jQuery(".butterBar").remove()},createButterbar:function(n){var t=this;t.clearButterbar();jQuery("body").append('<div class="butterBar butterBar--center"><p class="butterBar-message">'+n+"<\/p><\/div>");setTimeout("jQuery('.butterBar').remove()",3e3)}}},XCP:function(){$body=window.opera?document.compatMode=="CSS1Compat"?$("html"):$("body"):$("html,body");$("body").on("click","#comments-navi a",function(n){n.preventDefault();$.ajax({type:"GET",url:$(this).attr("href"),beforeSend:function(){$("#comments-navi").remove();$("ul.commentwrap").remove();$("#loading-comments").slideDown();$body.animate({scrollTop:$("#comments-list-title").offset().top-65},800)},dataType:"html",success:function(n){result=$(n).find("ul.commentwrap");nextlink=$(n).find("#comments-navi");$("#loading-comments").slideUp("fast");$("#loading-comments").after(result.fadeIn(500));$("ul.commentwrap").after(nextlink)}})})},IA:function(){POWERMODE.colorful=!0;POWERMODE.shake=!1;document.body.addEventListener("input",POWERMODE)},GT:function(){var t=100,i=1200,r=700,n=$(".cd-top");$(window).scroll(function(){$(this).scrollTop()>t?n.addClass("cd-is-visible"):n.removeClass("cd-is-visible cd-fade-out");$(this).scrollTop()>i&&n.addClass("cd-fade-out")});n.on("click",function(n){n.preventDefault();$("body,html").animate({scrollTop:0},r)})},NV:function(){$(".nav_icon").on("click",function(){var n=500;$("#nav_icon").text()=="目录"?($(".post_nav").addClass("post_nav_hidden"),$(".post_nav").animate({opacity:.95,bottom:"0px"},n),$(".nav_icon").removeClass("breath_animation"),$("#nav_icon").text("收起")):$("#nav_icon").text()=="收起"&&($(".post_nav").animate({opacity:0,bottom:"-999px"},n),$(".post_nav").removeClass("post_nav_hidden"),$(".nav_icon").addClass("breath_animation"),$("#nav_icon").text("目录"))});$(".tooltip").click(function(n){n.preventDefault();$("html,body").animate({scrollTop:$(this.hash).offset().top-80})})}};$(function(){if(Siren.AH(),Siren.PE(),Siren.NH(),Siren.GT(),Siren.XLS(),Siren.XCS(),Siren.XCP(),Siren.CE(),Siren.MN(),Siren.IA(),Siren.LV(),Siren.SFS(),Siren.NV(),Poi.pjax){$(document).pjax("a[target!=_top][data-pjax!='0'][class!='download'][class!='comment-reply-link']","#page",{fragment:"#page",timeout:8e3}).on("pjax:send",function(){$("#loading").fadeIn(300);Siren.MNH()}).on("pjax:complete",function(){Siren.AH();Siren.PE();Siren.CE();Siren.NV();home=location.href;$("#loading").fadeOut(500);$(".ds-thread").length>0&&(typeof DUOSHUO!="undefined"?DUOSHUO.EmbedThread(".ds-thread"):$.getScript("//static.duoshuo.com/embed.js"))}).on("submit",".search-form,.s-search",function(n){n.preventDefault();$.pjax.submit(n,"#page",{fragment:"#page",timeout:8e3});$(".js-search.is-visible").length>0&&($(".js-toggle-search").toggleClass("is-active"),$(".js-search").toggleClass("is-visible"))});window.addEventListener("popstate",function(){Siren.AH();Siren.PE();Siren.CE()},!1)}$.fn.postLike=function(){if($(this).hasClass("done"))return!1;$(this).addClass("done");var n=$(this).data("id"),t=$(this).data("action"),i=$(this).children(".count"),r={action:"specs_zan",um_id:n,um_action:t};return $.post(Poi.ajaxurl,r,function(n){$(i).html(n)}),!1};$(document).on("click",".specsZan",function(){$(this).postLike()})});var isWebkit=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,isOpera=navigator.userAgent.toLowerCase().indexOf("opera")>-1,isIe=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(isWebkit||isOpera||isIe)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t=location.hash.substring(1),n;/^[A-z0-9_-]+$/.test(t)&&(n=document.getElementById(t),n&&(/^(?:a|select|input|button|textarea)$/i.test(n.tagName)||(n.tabIndex=-1),n.focus()))},!1)
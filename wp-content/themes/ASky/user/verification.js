(function(n,t){function i(t,i,r){var u=this,e=u.checkElm(t)?n(t):n,f;r=u.checkFn(r)?r:function(){};f={successLabelTip:"Successfully Verified",duration:200,swipestart:!1,min:0,max:e.width(),index:0,IsOk:!1,lableIndex:0};f=n.extend(f,i||{});u.elm=e;u.opts=f;u.swipestart=f.swipestart;u.min=f.min;u.max=f.max;u.index=f.index;u.isOk=f.isOk;u.labelWidth=u.elm.find("#label").width();u.sliderBg=u.elm.find("#slider_bg");u.lableIndex=f.lableIndex;u.success=r}i.prototype.init=function(){var n=this;n.updateView();n.elm.find("#label").on("mousedown",function(i){var r=i||t.event;n.lableIndex=r.clientX-this.offsetLeft;n.handerIn()}).on("mousemove",function(t){n.handerMove(t)}).on("mouseup",function(){n.handerOut()}).on("mouseout",function(){n.handerOut()}).on("touchstart",function(i){var r=i||t.event;n.lableIndex=r.originalEvent.touches[0].pageX-this.offsetLeft;n.handerIn()}).on("touchmove",function(t){n.handerMove(t,"mobile")}).on("touchend",function(){n.handerOut()})};i.prototype.handerIn=function(){var n=this;n.swipestart=!0;var t=new Date,i=t.getHours(),r=t.getMinutes(),u=t.getSeconds(),f=t.getMilliseconds(),e=i*36e5+r*6e4+u*1e3+f;startTime=e;n.min=0;n.max=n.elm.width()};i.prototype.handerOut=function(){var n=this;n.swipestart=!1;weizhi=n.labelWidth;n.index<n.max&&n.reset()};i.prototype.handerMove=function(n,i){var r=this;r.swipestart&&(n.preventDefault(),n=n||t.event,r.index=i=="mobile"?n.originalEvent.touches[0].pageX-r.lableIndex:n.clientX-r.lableIndex,r.move())};i.prototype.move=function(){var t=this;t.index+t.labelWidth>=t.max&&(t.index=t.max-t.labelWidth-2,t.swipestart=!1,t.isOk=!0);t.index<0&&(t.index=t.min,t.isOk=!1);t.index+t.labelWidth+2==t.max&&t.max>0&&t.isOk&&(n("#label").unbind().next("#labelTip").text(t.opts.successLabelTip).css({color:"#fff"}),t.success());t.updateView()};i.prototype.updateView=function(){var n=this;n.sliderBg.css("width",n.index);n.elm.find("#label").css("left",n.index+"px")};i.prototype.reset=function(){var n=this;startTime=0;n.index=0;n.sliderBg.animate({width:0},n.opts.duration);n.elm.find("#label").animate({left:n.index},n.opts.duration).next("#lableTip").animate({opacity:1},n.opts.duration);n.updateView()};i.prototype.checkElm=function(t){if(n(t).length>0)return!0;throw"this element does not exist.";};i.prototype.checkFn=function(n){if(typeof n=="function")return!0;throw"the param is not a function.";};t.SliderUnlock=i})(jQuery,window,document)